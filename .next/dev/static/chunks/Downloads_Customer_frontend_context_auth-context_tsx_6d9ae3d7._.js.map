{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BLAE/Downloads/Customer/frontend/context/auth-context.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { createContext, useContext, useState, useEffect } from \"react\"\n\ninterface User {\n  token: string\n  usuarioId: number\n  email: string\n  nombreCompleto: string\n  esTrabajador: boolean\n}\n\ninterface AuthContextType {\n  user: User | null\n  activeRole: \"CLIENTE\" | \"TRABAJADOR\"\n  login: (userData: User) => void\n  logout: () => void\n  toggleRole: () => void\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined)\n\nexport const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [user, setUser] = useState<User | null>(null)\n  const [activeRole, setActiveRole] = useState<\"CLIENTE\" | \"TRABAJADOR\">(\"CLIENTE\")\n\n  useEffect(() => {\n    const storedUser = localStorage.getItem(\"user\")\n    if (storedUser) {\n      const userData = JSON.parse(storedUser)\n      setUser(userData)\n      setActiveRole(userData.esTrabajador ? \"TRABAJADOR\" : \"CLIENTE\")\n    }\n  }, [])\n\n  const login = (userData: User) => {\n    localStorage.setItem(\"user\", JSON.stringify(userData))\n    setUser(userData)\n    setActiveRole(userData.esTrabajador ? \"TRABAJADOR\" : \"CLIENTE\")\n  }\n\n  const logout = () => {\n    localStorage.removeItem(\"user\")\n    setUser(null)\n    setActiveRole(\"CLIENTE\")\n  }\n\n  const toggleRole = () => {\n    setActiveRole((prev) => (prev === \"CLIENTE\" ? \"TRABAJADOR\" : \"CLIENTE\"))\n  }\n\n  return <AuthContext.Provider value={{ user, activeRole, login, logout, toggleRole }}>{children}</AuthContext.Provider>\n}\n\nexport const useAuth = (): AuthContextType => {\n  const context = useContext(AuthContext)\n  if (context === undefined) {\n    throw new Error(\"useAuth must be used within an AuthProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":";;;;;;;AAGA;;;AAHA;;AAqBA,MAAM,4BAAc,IAAA,mNAAa,EAA8B;AAExD,MAAM,eAAwD,CAAC,EAAE,QAAQ,EAAE;;IAChF,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,8MAAQ,EAAc;IAC9C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,8MAAQ,EAA2B;IAEvE,IAAA,+MAAS;kCAAC;YACR,MAAM,aAAa,aAAa,OAAO,CAAC;YACxC,IAAI,YAAY;gBACd,MAAM,WAAW,KAAK,KAAK,CAAC;gBAC5B,QAAQ;gBACR,cAAc,SAAS,YAAY,GAAG,eAAe;YACvD;QACF;iCAAG,EAAE;IAEL,MAAM,QAAQ,CAAC;QACb,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;QAC5C,QAAQ;QACR,cAAc,SAAS,YAAY,GAAG,eAAe;IACvD;IAEA,MAAM,SAAS;QACb,aAAa,UAAU,CAAC;QACxB,QAAQ;QACR,cAAc;IAChB;IAEA,MAAM,aAAa;QACjB,cAAc,CAAC,OAAU,SAAS,YAAY,eAAe;IAC/D;IAEA,qBAAO,kOAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAY;YAAO;YAAQ;QAAW;kBAAI;;;;;;AACxF;GA9Ba;KAAA;AAgCN,MAAM,UAAU;;IACrB,MAAM,UAAU,IAAA,gNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANa"}}]
}