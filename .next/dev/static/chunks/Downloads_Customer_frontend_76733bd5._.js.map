{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BLAE/Downloads/Customer/frontend/lib/api.ts"],"sourcesContent":["const API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8080/api\";\n\nexport interface ApiCallOptions {\n  endpoint: string;\n  method?: \"GET\" | \"POST\" | \"PUT\" | \"DELETE\";\n  body?: any;\n}\n\nexport const apiCall = async ({ endpoint, method = \"GET\", body = null }: ApiCallOptions) => {\n  const headers: any = { \"Content-Type\": \"application/json\" };\n  \n  // Get token from localStorage if it exists (client-side only)\n  if (typeof window !== \"undefined\") {\n    const userStr = localStorage.getItem(\"user\");\n    if (userStr) {\n      const user = JSON.parse(userStr);\n      if (user?.token) {\n        headers[\"Authorization\"] = `Bearer ${user.token}`;\n      }\n    }\n  }\n\n  const res = await fetch(`${API_URL}${endpoint}`, {\n    method,\n    headers,\n    body: body ? JSON.stringify(body) : null,\n  });\n\n  if (!res.ok) {\n    const errorText = await res.text();\n    let errorJson;\n    try {\n      errorJson = JSON.parse(errorText);\n    } catch {\n      errorJson = { message: errorText || \"An unknown error occurred\" };\n    }\n    throw new Error(errorJson.message);\n  }\n\n  if (res.status === 204 || res.headers.get(\"content-length\") === \"0\") {\n    return {};\n  }\n  \n  return await res.json();\n};\n"],"names":[],"mappings":";;;;AAAgB;AAAhB,MAAM,UAAU,gNAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI;AAQ5C,MAAM,UAAU,OAAO,EAAE,QAAQ,EAAE,SAAS,KAAK,EAAE,OAAO,IAAI,EAAkB;IACrF,MAAM,UAAe;QAAE,gBAAgB;IAAmB;IAE1D,8DAA8D;IAC9D,wCAAmC;QACjC,MAAM,UAAU,aAAa,OAAO,CAAC;QACrC,IAAI,SAAS;YACX,MAAM,OAAO,KAAK,KAAK,CAAC;YACxB,IAAI,MAAM,OAAO;gBACf,OAAO,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,KAAK,KAAK,EAAE;YACnD;QACF;IACF;IAEA,MAAM,MAAM,MAAM,MAAM,GAAG,UAAU,UAAU,EAAE;QAC/C;QACA;QACA,MAAM,OAAO,KAAK,SAAS,CAAC,QAAQ;IACtC;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,YAAY,MAAM,IAAI,IAAI;QAChC,IAAI;QACJ,IAAI;YACF,YAAY,KAAK,KAAK,CAAC;QACzB,EAAE,OAAM;YACN,YAAY;gBAAE,SAAS,aAAa;YAA4B;QAClE;QACA,MAAM,IAAI,MAAM,UAAU,OAAO;IACnC;IAEA,IAAI,IAAI,MAAM,KAAK,OAAO,IAAI,OAAO,CAAC,GAAG,CAAC,sBAAsB,KAAK;QACnE,OAAO,CAAC;IACV;IAEA,OAAO,MAAM,IAAI,IAAI;AACvB"}},
    {"offset": {"line": 53, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BLAE/Downloads/Customer/frontend/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,8MAAO,EAAC,IAAA,qLAAI,EAAC;AACtB"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BLAE/Downloads/Customer/frontend/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,+MAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,gNAAI,GAAG;IAE9B,qBACE,kOAAC;QACC,aAAU;QACV,WAAW,IAAA,0JAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BLAE/Downloads/Customer/frontend/components/ui/custom-button.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { Button as ShadcnButton } from \"@/components/ui/button\"\n\ninterface CustomButtonProps extends React.ComponentProps<typeof ShadcnButton> {\n  variant?: \"primary\" | \"secondary\" | \"ghost\" | \"success\" | \"danger\" | \"default\" | \"outline\" | \"destructive\" | \"link\"\n}\n\nexport const Button: React.FC<CustomButtonProps> = ({ variant = \"default\", className = \"\", ...props }) => {\n  // Map custom variants to shadcn variants\n  const variantMap: Record<string, string> = {\n    primary: \"default\",\n    success: \"default\",\n    danger: \"destructive\",\n    ghost: \"ghost\",\n    secondary: \"secondary\",\n  }\n\n  const mappedVariant = variantMap[variant as string] || variant\n\n  return <ShadcnButton variant={mappedVariant as any} className={className} {...props} />\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AASO,MAAM,SAAsC,CAAC,EAAE,UAAU,SAAS,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO;IACnG,yCAAyC;IACzC,MAAM,aAAqC;QACzC,SAAS;QACT,SAAS;QACT,QAAQ;QACR,OAAO;QACP,WAAW;IACb;IAEA,MAAM,gBAAgB,UAAU,CAAC,QAAkB,IAAI;IAEvD,qBAAO,kOAAC,6KAAY;QAAC,SAAS;QAAsB,WAAW;QAAY,GAAG,KAAK;;;;;;AACrF;KAba"}},
    {"offset": {"line": 175, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BLAE/Downloads/Customer/frontend/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,kOAAC;QACC,aAAU;QACV,WAAW,IAAA,0JAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,kOAAC;QACC,aAAU;QACV,WAAW,IAAA,0JAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,kOAAC;QACC,aAAU;QACV,WAAW,IAAA,0JAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,kOAAC;QACC,aAAU;QACV,WAAW,IAAA,0JAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,kOAAC;QACC,aAAU;QACV,WAAW,IAAA,0JAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,kOAAC;QACC,aAAU;QACV,WAAW,IAAA,0JAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,kOAAC;QACC,aAAU;QACV,WAAW,IAAA,0JAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 295, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BLAE/Downloads/Customer/frontend/components/ui/custom-card.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { Card as ShadcnCard } from \"@/components/ui/card\"\nimport { cn } from \"@/lib/utils\"\n\ninterface CustomCardProps extends React.ComponentProps<\"div\"> {\n  children: React.ReactNode\n  className?: string\n}\n\nexport const Card: React.FC<CustomCardProps> = ({ children, className = \"\", ...props }) => (\n  <ShadcnCard\n    className={cn(\n      \"bg-white rounded-xl border border-slate-100 p-5 shadow-sm hover:shadow-md transition-all duration-300\",\n      className,\n    )}\n    {...props}\n  >\n    {children}\n  </ShadcnCard>\n)\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAJA;;;;AAWO,MAAM,OAAkC,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO,iBACpF,kOAAC,yKAAU;QACT,WAAW,IAAA,0JAAE,EACX,yGACA;QAED,GAAG,KAAK;kBAER;;;;;;KARQ"}},
    {"offset": {"line": 325, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BLAE/Downloads/Customer/frontend/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,+MAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,gNAAI,GAAG;IAE9B,qBACE,kOAAC;QACC,aAAU;QACV,WAAW,IAAA,0JAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},
    {"offset": {"line": 377, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BLAE/Downloads/Customer/frontend/components/ui/custom-badge.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { Badge as ShadcnBadge } from \"@/components/ui/badge\"\n\ninterface CustomBadgeProps {\n  status: string\n}\n\nexport const Badge: React.FC<CustomBadgeProps> = ({ status }) => {\n  const styles: Record<string, string> = {\n    PENDIENTE: \"bg-orange-100 text-orange-700 border-orange-200\",\n    OFERTANDO: \"bg-blue-100 text-blue-700 border-blue-200\",\n    EN_PROCESO: \"bg-purple-100 text-purple-700 border-purple-200\",\n    FINALIZADA: \"bg-emerald-100 text-emerald-700 border-emerald-200\",\n    CANCELADA: \"bg-gray-100 text-gray-500 border-gray-200\",\n  }\n\n  const className = styles[status] || \"bg-gray-100\"\n\n  return (\n    <ShadcnBadge variant=\"outline\" className={className}>\n      {status}\n    </ShadcnBadge>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AASO,MAAM,QAAoC,CAAC,EAAE,MAAM,EAAE;IAC1D,MAAM,SAAiC;QACrC,WAAW;QACX,WAAW;QACX,YAAY;QACZ,YAAY;QACZ,WAAW;IACb;IAEA,MAAM,YAAY,MAAM,CAAC,OAAO,IAAI;IAEpC,qBACE,kOAAC,2KAAW;QAAC,SAAQ;QAAU,WAAW;kBACvC;;;;;;AAGP;KAhBa"}},
    {"offset": {"line": 415, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BLAE/Downloads/Customer/frontend/components/common/worker-profile-modal.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState, useEffect } from \"react\"\nimport { X, Shield, Star, MessageSquare, Loader } from \"lucide-react\"\nimport { apiCall } from \"@/lib/api\"\nimport { Button } from \"@/components/ui/custom-button\"\n\ninterface WorkerProfileModalProps {\n  worker: any\n  user: any\n  onClose: () => void\n}\n\nexport const WorkerProfileModal: React.FC<WorkerProfileModalProps> = ({ worker, onClose, user }) => {\n  const [reviews, setReviews] = useState<any[]>([])\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    if (!worker?.usuario?.id) return\n\n    apiCall({\n      endpoint: `/resenas/usuario/${worker.usuario.id}`,\n      method: \"GET\",\n    })\n      .then(setReviews)\n      .finally(() => setLoading(false))\n  }, [worker])\n\n  return (\n    <div className=\"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in\">\n      <div className=\"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-hidden flex flex-col shadow-2xl\">\n        <div className=\"bg-slate-900 text-white p-6 relative\">\n          <button onClick={onClose} className=\"absolute top-4 right-4 p-1 hover:bg-white/10 rounded-full\">\n            <X className=\"w-5 h-5\" />\n          </button>\n          <div className=\"flex items-center gap-4\">\n            <div className=\"w-16 h-16 bg-indigo-500 rounded-full flex items-center justify-center text-2xl font-bold border-4 border-white/10\">\n              {worker.usuario.nombreCompleto.charAt(0)}\n            </div>\n            <div>\n              <h3 className=\"text-xl font-bold flex items-center gap-2\">\n                {worker.usuario.nombreCompleto}\n                {worker.verificado && <Shield className=\"w-4 h-4 text-emerald-400 fill-current\" />}\n              </h3>\n              <div className=\"flex items-center gap-1 text-yellow-400 text-sm font-medium mt-1\">\n                <Star className=\"w-4 h-4 fill-current\" /> {worker.calificacionPromedio}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"p-6 overflow-y-auto\">\n          <div className=\"mb-6\">\n            <h4 className=\"text-sm font-bold text-slate-400 uppercase tracking-wider mb-2\">Biografía</h4>\n            <p className=\"text-slate-700 bg-slate-50 p-4 rounded-xl text-sm leading-relaxed\">\n              {worker.biografia || \"Sin biografía disponible.\"}\n            </p>\n          </div>\n\n          <div>\n            <h4 className=\"text-sm font-bold text-slate-400 uppercase tracking-wider mb-3 flex items-center gap-2\">\n              <MessageSquare className=\"w-4 h-4\" /> Comentarios ({reviews.length})\n            </h4>\n            {loading ? (\n              <div className=\"text-center py-4\">\n                <Loader className=\"w-6 h-6 animate-spin mx-auto text-indigo-600\" />\n              </div>\n            ) : reviews.length === 0 ? (\n              <p className=\"text-slate-500 text-sm italic\">Sin reseñas.</p>\n            ) : (\n              <div className=\"space-y-3\">\n                {reviews.map((rev: any) => (\n                  <div key={rev.id} className=\"border-b border-slate-100 pb-3 last:border-0\">\n                    <div className=\"flex justify-between items-start mb-1\">\n                      <span className=\"font-bold text-sm text-slate-800\">{rev.autor.nombreCompleto}</span>\n                      <span className=\"text-xs text-slate-400\">\n                        {new Date(rev.createdAt).toLocaleDateString()}\n                      </span>\n                    </div>\n                    <div className=\"flex text-yellow-400 w-3 h-3 gap-0.5 mb-1\">\n                      {[...Array(rev.calificacion)].map((_, i) => (\n                        <Star key={i} className=\"w-3 h-3 fill-current\" />\n                      ))}\n                    </div>\n                    <p className=\"text-sm text-slate-600\">\"{rev.comentario}\"</p>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className=\"p-4 border-t bg-slate-50 text-center\">\n          <Button variant=\"secondary\" onClick={onClose} className=\"w-full\">\n            Cerrar Perfil\n          </Button>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;AANA;;;;;AAcO,MAAM,qBAAwD,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE;;IAC7F,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,8MAAQ,EAAQ,EAAE;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,8MAAQ,EAAC;IAEvC,IAAA,+MAAS;wCAAC;YACR,IAAI,CAAC,QAAQ,SAAS,IAAI;YAE1B,IAAA,6JAAO,EAAC;gBACN,UAAU,CAAC,iBAAiB,EAAE,OAAO,OAAO,CAAC,EAAE,EAAE;gBACjD,QAAQ;YACV,GACG,IAAI,CAAC,YACL,OAAO;gDAAC,IAAM,WAAW;;QAC9B;uCAAG;QAAC;KAAO;IAEX,qBACE,kOAAC;QAAI,WAAU;kBACb,cAAA,kOAAC;YAAI,WAAU;;8BACb,kOAAC;oBAAI,WAAU;;sCACb,kOAAC;4BAAO,SAAS;4BAAS,WAAU;sCAClC,cAAA,kOAAC,yOAAC;gCAAC,WAAU;;;;;;;;;;;sCAEf,kOAAC;4BAAI,WAAU;;8CACb,kOAAC;oCAAI,WAAU;8CACZ,OAAO,OAAO,CAAC,cAAc,CAAC,MAAM,CAAC;;;;;;8CAExC,kOAAC;;sDACC,kOAAC;4CAAG,WAAU;;gDACX,OAAO,OAAO,CAAC,cAAc;gDAC7B,OAAO,UAAU,kBAAI,kOAAC,wPAAM;oDAAC,WAAU;;;;;;;;;;;;sDAE1C,kOAAC;4CAAI,WAAU;;8DACb,kOAAC,kPAAI;oDAAC,WAAU;;;;;;gDAAyB;gDAAE,OAAO,oBAAoB;;;;;;;;;;;;;;;;;;;;;;;;;8BAM9E,kOAAC;oBAAI,WAAU;;sCACb,kOAAC;4BAAI,WAAU;;8CACb,kOAAC;oCAAG,WAAU;8CAAiE;;;;;;8CAC/E,kOAAC;oCAAE,WAAU;8CACV,OAAO,SAAS,IAAI;;;;;;;;;;;;sCAIzB,kOAAC;;8CACC,kOAAC;oCAAG,WAAU;;sDACZ,kOAAC,iRAAa;4CAAC,WAAU;;;;;;wCAAY;wCAAe,QAAQ,MAAM;wCAAC;;;;;;;gCAEpE,wBACC,kOAAC;oCAAI,WAAU;8CACb,cAAA,kOAAC,wPAAM;wCAAC,WAAU;;;;;;;;;;+EAElB,QAAQ,MAAM,KAAK,kBACrB,kOAAC;oCAAE,WAAU;8CAAgC;;;;;6FAE7C,kOAAC;oCAAI,WAAU;8CACZ,QAAQ,GAAG,CAAC,CAAC,oBACZ,kOAAC;4CAAiB,WAAU;;8DAC1B,kOAAC;oDAAI,WAAU;;sEACb,kOAAC;4DAAK,WAAU;sEAAoC,IAAI,KAAK,CAAC,cAAc;;;;;;sEAC5E,kOAAC;4DAAK,WAAU;sEACb,IAAI,KAAK,IAAI,SAAS,EAAE,kBAAkB;;;;;;;;;;;;8DAG/C,kOAAC;oDAAI,WAAU;8DACZ;2DAAI,MAAM,IAAI,YAAY;qDAAE,CAAC,GAAG,CAAC,CAAC,GAAG,kBACpC,kOAAC,kPAAI;4DAAS,WAAU;2DAAb;;;;;;;;;;8DAGf,kOAAC;oDAAE,WAAU;;wDAAyB;wDAAE,IAAI,UAAU;wDAAC;;;;;;;;2CAZ/C,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;8BAoB1B,kOAAC;oBAAI,WAAU;8BACb,cAAA,kOAAC,uLAAM;wBAAC,SAAQ;wBAAY,SAAS;wBAAS,WAAU;kCAAS;;;;;;;;;;;;;;;;;;;;;;AAO3E;GAvFa;KAAA"}},
    {"offset": {"line": 731, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BLAE/Downloads/Customer/frontend/components/common/offers-modal.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState, useEffect } from \"react\"\nimport { X, Shield, Star } from \"lucide-react\"\nimport { apiCall } from \"@/lib/api\"\nimport { Button } from \"@/components/ui/custom-button\"\nimport { WorkerProfileModal } from \"./worker-profile-modal\"\n\ninterface OffersModalProps {\n  reqId: number\n  user: any\n  onClose: () => void\n  onAccept: () => void\n}\n\nexport const OffersModal: React.FC<OffersModalProps> = ({ reqId, onClose, user, onAccept }) => {\n  const [list, setList] = useState<any[]>([])\n  const [selectedWorker, setSelectedWorker] = useState<any>(null)\n\n  useEffect(() => {\n    apiCall({\n      endpoint: `/ofertas/solicitud/${reqId}`,\n      method: \"GET\",\n    })\n      .then(setList)\n      .catch(console.error)\n  }, [reqId])\n\n  const handleAccept = async (oid: number) => {\n    if (!confirm(\"¿Aceptar esta oferta?\")) return\n    await apiCall({\n      endpoint: `/ofertas/${oid}/aceptar`,\n      method: \"PUT\",\n    })\n    alert(\"Oferta Aceptada\")\n    onAccept()\n    onClose()\n  }\n\n  return (\n    <>\n      <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\">\n        <div className=\"bg-white rounded-2xl w-full max-w-lg p-6 max-h-[80vh] overflow-y-auto\">\n          <div className=\"flex justify-between mb-4\">\n            <h3 className=\"font-bold\">Ofertas Recibidas</h3>\n            <button onClick={onClose}>\n              <X />\n            </button>\n          </div>\n\n          <div className=\"space-y-3\">\n            {list.map((o: any) => (\n              <div key={o.id} className=\"border p-4 rounded-xl hover:border-indigo-200 transition-all bg-slate-50\">\n                <div className=\"flex justify-between items-start mb-3\">\n                  <div\n                    className=\"flex items-center gap-3 cursor-pointer group\"\n                    onClick={() => {\n                      console.log(\"Selected worker data:\", o.trabajador)\n                      setSelectedWorker(o.trabajador)\n                    }}\n                  >\n                    <div className=\"w-10 h-10 rounded-full bg-indigo-600 text-white flex items-center justify-center font-bold\">\n                      {o.trabajador.usuario.nombreCompleto.charAt(0)}\n                    </div>\n                    <div>\n                      <p className=\"font-bold text-sm text-slate-800 group-hover:text-indigo-600 transition-colors flex items-center gap-1\">\n                        {o.trabajador.usuario.nombreCompleto}\n                        {o.trabajador.verificado && <Shield className=\"w-3 h-3 text-emerald-500 fill-current\" />}\n                      </p>\n                      <div className=\"flex text-xs text-yellow-500\">\n                        <Star className=\"w-3 h-3 fill-current\" /> {o.trabajador.calificacionPromedio}\n                      </div>\n                    </div>\n                  </div>\n                  <span className=\"font-bold text-lg text-emerald-600\">S/. {o.montoOfrecido}</span>\n                </div>\n                <p className=\"text-sm text-slate-600 italic mb-3\">\"{o.comentario}\"</p>\n                <Button onClick={() => handleAccept(o.id)} variant=\"success\" className=\"w-full text-xs py-2\">\n                  Aceptar y Contratar\n                </Button>\n              </div>\n            ))}\n            {list.length === 0 && <p className=\"text-center text-slate-400 py-4\">Aún no hay ofertas.</p>}\n          </div>\n        </div>\n      </div>\n\n      {selectedWorker && (\n        <WorkerProfileModal worker={selectedWorker} onClose={() => setSelectedWorker(null)} user={user} />\n      )}\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;AAPA;;;;;;AAgBO,MAAM,cAA0C,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE;;IACxF,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,8MAAQ,EAAQ,EAAE;IAC1C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,8MAAQ,EAAM;IAE1D,IAAA,+MAAS;iCAAC;YACR,IAAA,6JAAO,EAAC;gBACN,UAAU,CAAC,mBAAmB,EAAE,OAAO;gBACvC,QAAQ;YACV,GACG,IAAI,CAAC,SACL,KAAK,CAAC,QAAQ,KAAK;QACxB;gCAAG;QAAC;KAAM;IAEV,MAAM,eAAe,OAAO;QAC1B,IAAI,CAAC,QAAQ,0BAA0B;QACvC,MAAM,IAAA,6JAAO,EAAC;YACZ,UAAU,CAAC,SAAS,EAAE,IAAI,QAAQ,CAAC;YACnC,QAAQ;QACV;QACA,MAAM;QACN;QACA;IACF;IAEA,qBACE;;0BACE,kOAAC;gBAAI,WAAU;0BACb,cAAA,kOAAC;oBAAI,WAAU;;sCACb,kOAAC;4BAAI,WAAU;;8CACb,kOAAC;oCAAG,WAAU;8CAAY;;;;;;8CAC1B,kOAAC;oCAAO,SAAS;8CACf,cAAA,kOAAC,yOAAC;;;;;;;;;;;;;;;;sCAIN,kOAAC;4BAAI,WAAU;;gCACZ,KAAK,GAAG,CAAC,CAAC,kBACT,kOAAC;wCAAe,WAAU;;0DACxB,kOAAC;gDAAI,WAAU;;kEACb,kOAAC;wDACC,WAAU;wDACV,SAAS;4DACP,QAAQ,GAAG,CAAC,yBAAyB,EAAE,UAAU;4DACjD,kBAAkB,EAAE,UAAU;wDAChC;;0EAEA,kOAAC;gEAAI,WAAU;0EACZ,EAAE,UAAU,CAAC,OAAO,CAAC,cAAc,CAAC,MAAM,CAAC;;;;;;0EAE9C,kOAAC;;kFACC,kOAAC;wEAAE,WAAU;;4EACV,EAAE,UAAU,CAAC,OAAO,CAAC,cAAc;4EACnC,EAAE,UAAU,CAAC,UAAU,kBAAI,kOAAC,wPAAM;gFAAC,WAAU;;;;;;;;;;;;kFAEhD,kOAAC;wEAAI,WAAU;;0FACb,kOAAC,kPAAI;gFAAC,WAAU;;;;;;4EAAyB;4EAAE,EAAE,UAAU,CAAC,oBAAoB;;;;;;;;;;;;;;;;;;;kEAIlF,kOAAC;wDAAK,WAAU;;4DAAqC;4DAAK,EAAE,aAAa;;;;;;;;;;;;;0DAE3E,kOAAC;gDAAE,WAAU;;oDAAqC;oDAAE,EAAE,UAAU;oDAAC;;;;;;;0DACjE,kOAAC,uLAAM;gDAAC,SAAS,IAAM,aAAa,EAAE,EAAE;gDAAG,SAAQ;gDAAU,WAAU;0DAAsB;;;;;;;uCAzBrF,EAAE,EAAE;;;;;gCA8Bf,KAAK,MAAM,KAAK,mBAAK,kOAAC;oCAAE,WAAU;8CAAkC;;;;;;;;;;;;;;;;;;;;;;;YAK1E,gCACC,kOAAC,iNAAkB;gBAAC,QAAQ;gBAAgB,SAAS,IAAM,kBAAkB;gBAAO,MAAM;;;;;;;;AAIlG;GA7Ea;KAAA"}},
    {"offset": {"line": 977, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BLAE/Downloads/Customer/frontend/utils/gemini.ts"],"sourcesContent":["const GEMINI_API_KEY = \"\"\n\nexport const callGeminiLLM = async (prompt: string): Promise<string> => {\n  if (!GEMINI_API_KEY) {\n    return new Promise((resolve) => setTimeout(() => resolve(`(IA): Descripción mejorada para: \"${prompt}\"`), 1000))\n  }\n\n  try {\n    const response = await fetch(\n      `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${GEMINI_API_KEY}`,\n      {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          contents: [{ parts: [{ text: prompt }] }],\n        }),\n      },\n    )\n\n    if (!response.ok) throw new Error(\"Error Gemini\")\n\n    const data = await response.json()\n    return data.candidates?.[0]?.content?.parts?.[0]?.text || \"No se pudo generar.\"\n  } catch (error) {\n    console.error(\"Gemini Error:\", error)\n    return \"Error al conectar con IA.\"\n  }\n}\n"],"names":[],"mappings":";;;;AAAA,MAAM,iBAAiB;AAEhB,MAAM,gBAAgB,OAAO;IAClC,wCAAqB;QACnB,OAAO,IAAI,QAAQ,CAAC,UAAY,WAAW,IAAM,QAAQ,CAAC,kCAAkC,EAAE,OAAO,CAAC,CAAC,GAAG;IAC5G;;;AAsBF"}},
    {"offset": {"line": 996, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BLAE/Downloads/Customer/frontend/components/client/create-request-form.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState } from \"react\"\nimport { Sparkles, X, Loader } from \"lucide-react\"\nimport { Button } from \"@/components/ui/custom-button\"\nimport { callGeminiLLM } from \"@/utils/gemini\"\nimport { apiCall } from \"@/lib/api\"\n\ninterface Category {\n  id: number\n  nombre: string\n  urlIcono: string\n}\n\ninterface CreateRequestFormProps {\n  userId: number\n  categories: Category[]\n  editingId?: number | null\n  initialForm?: any\n  onSuccess: () => void\n  onCancel: () => void\n}\n\nexport const CreateRequestForm: React.FC<CreateRequestFormProps> = ({\n  userId,\n  categories,\n  editingId,\n  initialForm,\n  onSuccess,\n  onCancel,\n}) => {\n  const [form, setForm] = useState(\n    initialForm || {\n      catId: 1,\n      desc: \"\",\n      price: \"\",\n      addr: \"\",\n      lat: -8.11,\n      lng: -79.03,\n    },\n  )\n\n  const [loadingAI, setLoadingAI] = useState(false)\n  const [submitting, setSubmitting] = useState(false)\n\n  const improveWithAI = async () => {\n    if (!form.desc) return\n    setLoadingAI(true)\n    const prompt = `Mejora esta descripción corta para una solicitud de trabajo en casa (sé conciso, profesional y claro): \"${form.desc}\"`\n    const improved = await callGeminiLLM(prompt)\n    if (improved) setForm({ ...form, desc: improved })\n    setLoadingAI(false)\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setSubmitting(true)\n    try {\n      const payload = {\n        categoriaId: form.catId,\n        descripcion: form.desc,\n        precioSugerido: Number.parseFloat(form.price),\n        direccion: form.addr,\n        referencia: \"Web\",\n        latitud: form.lat,\n        longitud: form.lng,\n      }\n\n      if (editingId) {\n        await apiCall({\n          endpoint: `/solicitudes/${editingId}?clienteId=${userId}`,\n          method: \"PUT\",\n          body: payload,\n        })\n        alert(\"Solicitud Actualizada\")\n        onSuccess()\n      } else {\n        await apiCall({\n          endpoint: `/solicitudes?clienteId=${userId}`,\n          method: \"POST\",\n          body: payload,\n        })\n        alert(\"Solicitud Creada\")\n        onSuccess()\n      }\n    } catch (err) {\n      alert(\"Error al crear la solicitud\")\n      console.error(err)\n    } finally {\n      setSubmitting(false)\n    }\n  }\n\n  return (\n    <div className=\"bg-white rounded-3xl border border-slate-100 p-8 shadow-sm max-w-3xl mx-auto animate-in fade-in zoom-in duration-300\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h3 className=\"text-xl font-bold text-slate-800\">{editingId ? \"Editar Solicitud\" : \"Crear Solicitud\"}</h3>\n        <button onClick={onCancel} className=\"p-2 hover:bg-slate-50 rounded-full text-slate-400\">\n          <X className=\"w-5 h-5\" />\n        </button>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n        <div>\n          <label className=\"text-sm font-bold text-slate-700 block mb-3\">Selecciona Categoría</label>\n          <div className=\"flex gap-3 overflow-x-auto pb-2\">\n            {categories.map((c) => (\n              <div\n                key={c.id}\n                onClick={() => setForm({ ...form, catId: c.id })}\n                className={`cursor-pointer min-w-[120px] p-4 rounded-xl border-2 transition-all flex flex-col items-center gap-2 ${\n                  form.catId === c.id\n                    ? \"border-indigo-600 bg-indigo-50 text-indigo-700\"\n                    : \"border-slate-100 hover:border-slate-300\"\n                }`}\n              >\n                <img\n                  src={c.urlIcono || \"/placeholder.svg\"}\n                  className=\"w-8 h-8 opacity-75\"\n                  onError={(e) => (e.currentTarget.src = \"https://cdn-icons-png.flaticon.com/512/1087/1087815.png\")}\n                  alt={c.nombre}\n                />\n                <span className=\"text-xs font-bold\">{c.nombre}</span>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-2 gap-6\">\n          <div className=\"col-span-2\">\n            <div className=\"flex justify-between items-end mb-2\">\n              <label className=\"text-sm font-bold text-slate-700\">Descripción</label>\n              <button\n                type=\"button\"\n                onClick={improveWithAI}\n                disabled={loadingAI}\n                className=\"text-xs text-indigo-600 font-bold flex items-center gap-1 hover:text-indigo-700 disabled:opacity-50\"\n              >\n                <Sparkles className=\"w-3 h-3\" /> {loadingAI ? \"Generando...\" : \"Mejorar con IA\"}\n              </button>\n            </div>\n            <textarea\n              required\n              className=\"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none resize-none transition-all\"\n              rows={3}\n              onChange={(e) => setForm({ ...form, desc: e.target.value })}\n              value={form.desc}\n              placeholder=\"Describe el servicio que necesitas...\"\n            />\n          </div>\n\n          <div>\n            <label className=\"text-sm font-bold text-slate-700 block mb-2\">Precio (S/.)</label>\n            <input\n              required\n              type=\"number\"\n              className=\"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none\"\n              onChange={(e) => setForm({ ...form, price: e.target.value })}\n              value={form.price}\n              placeholder=\"0.00\"\n            />\n          </div>\n\n          <div>\n            <label className=\"text-sm font-bold text-slate-700 block mb-2\">Dirección</label>\n            <input\n              required\n              type=\"text\"\n              className=\"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none\"\n              onChange={(e) => setForm({ ...form, addr: e.target.value })}\n              value={form.addr}\n              placeholder=\"Tu dirección...\"\n            />\n          </div>\n        </div>\n\n        <div className=\"pt-4 flex justify-end gap-3\">\n          <Button variant=\"ghost\" onClick={onCancel}>\n            Cancelar\n          </Button>\n          <Button type=\"submit\" disabled={submitting}>\n            {submitting ? <Loader className=\"w-4 h-4 animate-spin\" /> : null}\n            {editingId ? \"Guardar Cambios\" : \"Publicar Ahora\"}\n          </Button>\n        </div>\n      </form>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1362, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BLAE/Downloads/Customer/frontend/components/common/payment-modal.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useState } from \"react\"\nimport { X, CreditCard, Smartphone, Banknote } from \"lucide-react\"\nimport { Button } from \"@/components/ui/custom-button\"\n\ninterface PaymentModalProps {\n  requestId: number\n  amount: number\n  onClose: () => void\n  onPaymentSuccess: () => void\n}\n\nexport const PaymentModal: React.FC<PaymentModalProps> = ({ requestId, amount, onClose, onPaymentSuccess }) => {\n  const [selectedMethod, setSelectedMethod] = useState<string | null>(null)\n  const [loading, setLoading] = useState(false)\n\n  const paymentMethods = [\n    {\n      id: \"card\",\n      name: \"Tarjeta de Crédito/Débito\",\n      icon: CreditCard,\n      description: \"Visa, Mastercard, American Express\",\n    },\n    {\n      id: \"yape\",\n      name: \"Yape\",\n      icon: Smartphone,\n      description: \"Pago por teléfono\",\n    },\n    {\n      id: \"transfer\",\n      name: \"Transferencia Bancaria\",\n      icon: Banknote,\n      description: \"Transferencia a cuenta bancaria\",\n    },\n  ]\n\n  const handlePay = async () => {\n    if (!selectedMethod) {\n      alert(\"Selecciona un método de pago\")\n      return\n    }\n\n    setLoading(true)\n    // Simulate payment processing\n    setTimeout(() => {\n      alert(`Pago de S/. ${amount} procesado con ${selectedMethod}`)\n      onPaymentSuccess()\n      onClose()\n    }, 1500)\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in\">\n      <div className=\"bg-white rounded-2xl w-full max-w-lg shadow-2xl animate-in slide-in-from-bottom-4\">\n        <div className=\"p-6 border-b border-slate-100 flex justify-between items-center\">\n          <h3 className=\"text-xl font-bold text-slate-800\">Selecciona Método de Pago</h3>\n          <button onClick={onClose} className=\"p-1 hover:bg-slate-100 rounded-full transition-colors\">\n            <X className=\"w-5 h-5 text-slate-400\" />\n          </button>\n        </div>\n\n        <div className=\"p-6 space-y-3\">\n          {paymentMethods.map((method) => {\n            const Icon = method.icon\n            return (\n              <button\n                key={method.id}\n                onClick={() => setSelectedMethod(method.id)}\n                className={`w-full p-4 rounded-xl border-2 transition-all flex items-start gap-3 text-left ${\n                  selectedMethod === method.id\n                    ? \"border-indigo-600 bg-indigo-50\"\n                    : \"border-slate-200 hover:border-indigo-300\"\n                }`}\n              >\n                <Icon className=\"w-5 h-5 text-indigo-600 mt-0.5 flex-shrink-0\" />\n                <div>\n                  <p className=\"font-bold text-slate-800\">{method.name}</p>\n                  <p className=\"text-xs text-slate-500\">{method.description}</p>\n                </div>\n              </button>\n            )\n          })}\n        </div>\n\n        <div className=\"p-6 bg-slate-50 border-t border-slate-100 rounded-b-2xl\">\n          <div className=\"mb-4 p-4 bg-white rounded-lg border border-slate-200\">\n            <p className=\"text-sm text-slate-500\">Monto a pagar</p>\n            <p className=\"text-2xl font-bold text-indigo-600\">S/. {amount}</p>\n          </div>\n          <div className=\"flex gap-2\">\n            <Button variant=\"ghost\" onClick={onClose} className=\"flex-1\">\n              Cancelar\n            </Button>\n            <Button onClick={handlePay} disabled={loading} className=\"flex-1\">\n              {loading ? \"Procesando...\" : \"Confirmar Pago\"}\n            </Button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAIA;AACA;AAAA;AAAA;AAAA;AACA;;;AANA;;;;AAeO,MAAM,eAA4C,CAAC,EAAE,SAAS,EAAE,MAAM,EAAE,OAAO,EAAE,gBAAgB,EAAE;;IACxG,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,8MAAQ,EAAgB;IACpE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,8MAAQ,EAAC;IAEvC,MAAM,iBAAiB;QACrB;YACE,IAAI;YACJ,MAAM;YACN,MAAM,wQAAU;YAChB,aAAa;QACf;QACA;YACE,IAAI;YACJ,MAAM;YACN,MAAM,oQAAU;YAChB,aAAa;QACf;QACA;YACE,IAAI;YACJ,MAAM;YACN,MAAM,8PAAQ;YACd,aAAa;QACf;KACD;IAED,MAAM,YAAY;QAChB,IAAI,CAAC,gBAAgB;YACnB,MAAM;YACN;QACF;QAEA,WAAW;QACX,8BAA8B;QAC9B,WAAW;YACT,MAAM,CAAC,YAAY,EAAE,OAAO,eAAe,EAAE,gBAAgB;YAC7D;YACA;QACF,GAAG;IACL;IAEA,qBACE,kOAAC;QAAI,WAAU;kBACb,cAAA,kOAAC;YAAI,WAAU;;8BACb,kOAAC;oBAAI,WAAU;;sCACb,kOAAC;4BAAG,WAAU;sCAAmC;;;;;;sCACjD,kOAAC;4BAAO,SAAS;4BAAS,WAAU;sCAClC,cAAA,kOAAC,yOAAC;gCAAC,WAAU;;;;;;;;;;;;;;;;;8BAIjB,kOAAC;oBAAI,WAAU;8BACZ,eAAe,GAAG,CAAC,CAAC;wBACnB,MAAM,OAAO,OAAO,IAAI;wBACxB,qBACE,kOAAC;4BAEC,SAAS,IAAM,kBAAkB,OAAO,EAAE;4BAC1C,WAAW,CAAC,+EAA+E,EACzF,mBAAmB,OAAO,EAAE,GACxB,mCACA,4CACJ;;8CAEF,kOAAC;oCAAK,WAAU;;;;;;8CAChB,kOAAC;;sDACC,kOAAC;4CAAE,WAAU;sDAA4B,OAAO,IAAI;;;;;;sDACpD,kOAAC;4CAAE,WAAU;sDAA0B,OAAO,WAAW;;;;;;;;;;;;;2BAXtD,OAAO,EAAE;;;;;oBAepB;;;;;;8BAGF,kOAAC;oBAAI,WAAU;;sCACb,kOAAC;4BAAI,WAAU;;8CACb,kOAAC;oCAAE,WAAU;8CAAyB;;;;;;8CACtC,kOAAC;oCAAE,WAAU;;wCAAqC;wCAAK;;;;;;;;;;;;;sCAEzD,kOAAC;4BAAI,WAAU;;8CACb,kOAAC,uLAAM;oCAAC,SAAQ;oCAAQ,SAAS;oCAAS,WAAU;8CAAS;;;;;;8CAG7D,kOAAC,uLAAM;oCAAC,SAAS;oCAAW,UAAU;oCAAS,WAAU;8CACtD,UAAU,kBAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO3C;GA1Fa;KAAA"}},
    {"offset": {"line": 1593, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BLAE/Downloads/Customer/frontend/components/common/review-modal.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useState } from \"react\"\nimport { X, Star } from \"lucide-react\"\nimport { Button } from \"@/components/ui/custom-button\"\n\ninterface ReviewModalProps {\n  workerUsuarioId: number\n  workerName: string\n  requestId: number\n  onClose: () => void\n  onSubmit: (rating: number, comment: string) => void\n}\n\nexport const ReviewModal: React.FC<ReviewModalProps> = ({ workerUsuarioId, workerName, requestId, onClose, onSubmit }) => {\n  const [rating, setRating] = useState(0)\n  const [comment, setComment] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n\n  const handleSubmit = async () => {\n    if (rating === 0) {\n      alert(\"Selecciona una calificación\")\n      return\n    }\n\n    setLoading(true)\n    setTimeout(() => {\n      onSubmit(rating, comment)\n      setLoading(false)\n      onClose()\n    }, 800)\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in\">\n      <div className=\"bg-white rounded-2xl w-full max-w-lg shadow-2xl animate-in slide-in-from-bottom-4\">\n        <div className=\"p-6 border-b border-slate-100 flex justify-between items-center\">\n          <div>\n            <h3 className=\"text-xl font-bold text-slate-800\">Calificar Trabajo</h3>\n            <p className=\"text-sm text-slate-500\">Servicio de {workerName}</p>\n          </div>\n          <button onClick={onClose} className=\"p-1 hover:bg-slate-100 rounded-full transition-colors\">\n            <X className=\"w-5 h-5 text-slate-400\" />\n          </button>\n        </div>\n\n        <div className=\"p-6 space-y-6\">\n          <div>\n            <label className=\"block text-sm font-bold text-slate-700 mb-3\">Calificación</label>\n            <div className=\"flex gap-2 justify-center\">\n              {[1, 2, 3, 4, 5].map((star) => (\n                <button key={star} onClick={() => setRating(star)} className=\"transition-transform hover:scale-110\">\n                  <Star\n                    className={`w-8 h-8 ${star <= rating ? \"fill-yellow-400 text-yellow-400\" : \"text-slate-300\"}`}\n                  />\n                </button>\n              ))}\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-bold text-slate-700 mb-2\">Comentario</label>\n            <textarea\n              value={comment}\n              onChange={(e) => setComment(e.target.value)}\n              placeholder=\"Cuéntanos sobre tu experiencia con este trabajador...\"\n              className=\"w-full p-3 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none\"\n              rows={4}\n            />\n            <p className=\"text-xs text-slate-400 mt-1\">{comment.length}/500</p>\n          </div>\n        </div>\n\n        <div className=\"p-6 bg-slate-50 border-t border-slate-100 rounded-b-2xl flex gap-2\">\n          <Button variant=\"ghost\" onClick={onClose} className=\"flex-1\">\n            Cancelar\n          </Button>\n          <Button onClick={handleSubmit} disabled={loading || rating === 0} className=\"flex-1\">\n            {loading ? \"Enviando...\" : \"Enviar Calificación\"}\n          </Button>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAIA;AACA;AAAA;AACA;;;AANA;;;;AAgBO,MAAM,cAA0C,CAAC,EAAE,eAAe,EAAE,UAAU,EAAE,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE;;IACnH,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,8MAAQ,EAAC;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,8MAAQ,EAAC;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,8MAAQ,EAAC;IAEvC,MAAM,eAAe;QACnB,IAAI,WAAW,GAAG;YAChB,MAAM;YACN;QACF;QAEA,WAAW;QACX,WAAW;YACT,SAAS,QAAQ;YACjB,WAAW;YACX;QACF,GAAG;IACL;IAEA,qBACE,kOAAC;QAAI,WAAU;kBACb,cAAA,kOAAC;YAAI,WAAU;;8BACb,kOAAC;oBAAI,WAAU;;sCACb,kOAAC;;8CACC,kOAAC;oCAAG,WAAU;8CAAmC;;;;;;8CACjD,kOAAC;oCAAE,WAAU;;wCAAyB;wCAAa;;;;;;;;;;;;;sCAErD,kOAAC;4BAAO,SAAS;4BAAS,WAAU;sCAClC,cAAA,kOAAC,yOAAC;gCAAC,WAAU;;;;;;;;;;;;;;;;;8BAIjB,kOAAC;oBAAI,WAAU;;sCACb,kOAAC;;8CACC,kOAAC;oCAAM,WAAU;8CAA8C;;;;;;8CAC/D,kOAAC;oCAAI,WAAU;8CACZ;wCAAC;wCAAG;wCAAG;wCAAG;wCAAG;qCAAE,CAAC,GAAG,CAAC,CAAC,qBACpB,kOAAC;4CAAkB,SAAS,IAAM,UAAU;4CAAO,WAAU;sDAC3D,cAAA,kOAAC,kPAAI;gDACH,WAAW,CAAC,QAAQ,EAAE,QAAQ,SAAS,oCAAoC,kBAAkB;;;;;;2CAFpF;;;;;;;;;;;;;;;;sCASnB,kOAAC;;8CACC,kOAAC;oCAAM,WAAU;8CAA8C;;;;;;8CAC/D,kOAAC;oCACC,OAAO;oCACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;oCAC1C,aAAY;oCACZ,WAAU;oCACV,MAAM;;;;;;8CAER,kOAAC;oCAAE,WAAU;;wCAA+B,QAAQ,MAAM;wCAAC;;;;;;;;;;;;;;;;;;;8BAI/D,kOAAC;oBAAI,WAAU;;sCACb,kOAAC,uLAAM;4BAAC,SAAQ;4BAAQ,SAAS;4BAAS,WAAU;sCAAS;;;;;;sCAG7D,kOAAC,uLAAM;4BAAC,SAAS;4BAAc,UAAU,WAAW,WAAW;4BAAG,WAAU;sCACzE,UAAU,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;AAMvC;GAtEa;KAAA"}},
    {"offset": {"line": 1824, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BLAE/Downloads/Customer/frontend/components/client/client-dashboard.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState, useEffect } from \"react\"\nimport { useAuth } from \"@/context/auth-context\"\nimport { apiCall } from \"@/lib/api\"\nimport { Button } from \"@/components/ui/custom-button\"\nimport { Card } from \"@/components/ui/custom-card\"\nimport { Badge } from \"@/components/ui/custom-badge\"\nimport { OffersModal } from \"@/components/common/offers-modal\"\nimport { CreateRequestForm } from \"./create-request-form\"\nimport { Edit, Trash2, Calendar } from \"lucide-react\"\nimport { PaymentModal } from \"@/components/common/payment-modal\"\nimport { ReviewModal } from \"@/components/common/review-modal\"\n\nexport const ClientDashboard: React.FC = () => {\n  const { user, logout } = useAuth()\n  const [tab, setTab] = useState(\"list\")\n  const [cats, setCats] = useState<any[]>([])\n  const [reqs, setReqs] = useState<any[]>([])\n  const [viewOffersId, setViewOffersId] = useState<number | null>(null)\n  const [editingId, setEditingId] = useState<number | null>(null)\n  const [editingReq, setEditingReq] = useState<any>(null)\n  const [paymentModalId, setPaymentModalId] = useState<number | null>(null)\n  const [reviewModalData, setReviewModalData] = useState<{\n    requestId: number\n    workerUsuarioId: number\n    workerName: string\n  } | null>(null)\n\n  useEffect(() => {\n    if (!user || !user.usuarioId) {\n      console.warn(\"Usuario sin ID detectado. Cerrando sesión para limpiar cache.\")\n      logout()\n      return\n    }\n    loadData()\n  }, [user])\n\n  const loadData = () => {\n    if (!user?.usuarioId) return\n    apiCall({ endpoint: \"/categorias\" }).then(setCats)\n    apiCall({\n      endpoint: `/solicitudes/mis-pedidos?clienteId=${user.usuarioId}`,\n      method: \"GET\",\n    }).then(setReqs)\n  }\n\n  const handleDelete = async (id: number) => {\n    if (!confirm(\"¿Estás seguro de eliminar esta solicitud?\")) return\n    if (!user?.usuarioId) return\n    try {\n      await apiCall({\n        endpoint: `/solicitudes/${id}?clienteId=${user.usuarioId}`,\n        method: \"DELETE\",\n      })\n      loadData()\n    } catch (e) {\n      alert(\"Error al eliminar\")\n    }\n  }\n\n  const startEditing = (req: any) => {\n    setEditingId(req.id)\n    setEditingReq({\n      catId: req.categoriaId || 1,\n      desc: req.descripcion,\n      price: req.precioSugerido,\n      addr: req.direccion,\n      lat: req.latitud || -8.11,\n      lng: req.longitud || -79.03,\n    })\n    setTab(\"create\")\n  }\n\n  const handleFormSuccess = () => {\n    setTab(\"list\") // Always go back to the list\n    setEditingId(null)\n    setEditingReq(null)\n    loadData()\n  }\n\n  const handlePaymentSuccess = async (requestId: number) => {\n    if (!user) return\n    try {\n      // 1. Finalizar la solicitud en el backend\n      await apiCall({\n        endpoint: `/solicitudes/${requestId}/finalizar?clienteId=${user.usuarioId}`,\n        method: \"PUT\",\n      })\n\n      // 2. Abrir el modal de reseña\n      const req = reqs.find((r) => r.id === requestId)\n      if (req && req.trabajadorElegido && req.trabajadorElegido.usuario) {\n        setReviewModalData({\n          requestId,\n          workerUsuarioId: req.trabajadorElegido.usuario.id,\n          workerName: req.trabajadorElegido.usuario.nombreCompleto || \"Trabajador\",\n        })\n      } else {\n        // Si no podemos abrir el modal de reseña, al menos recargamos los datos\n        // para que la solicitud finalizada se mueva al historial.\n        loadData()\n      }\n    } catch (error) {\n      console.error(\"Error al finalizar la solicitud:\", error)\n      alert(\"Hubo un error al finalizar la solicitud. Por favor, recarga la página.\")\n    }\n  }\n\n  const handleReviewSubmit = async (rating: number, comment: string) => {\n    if (!reviewModalData) return\n\n    try {\n      await apiCall({\n        endpoint: `/resenas`,\n        method: \"POST\",\n        body: {\n          solicitudId: reviewModalData.requestId,\n          usuarioCalificadoId: reviewModalData.workerUsuarioId,\n          estrellas: rating,\n          comentario: comment,\n        },\n      })\n      setReviewModalData(null)\n      loadData()\n    } catch (e) {\n      alert(\"Error al enviar la calificación\")\n    }\n  }\n\n  return (\n    <div className=\"space-y-6 max-w-5xl mx-auto p-4\">\n      <div className=\"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex justify-between items-center\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-slate-800\">\n            Hola, {user?.nombreCompleto?.split(\" \")[0] || \"Usuario\"}\n          </h2>\n          <p className=\"text-slate-500 text-sm\">Gestiona tus servicios.</p>\n        </div>\n        <Button\n          onClick={() => {\n            setEditingId(null)\n            setEditingReq(null)\n            setTab(\"create\")\n          }}\n        >\n          + Nueva Solicitud\n        </Button>\n      </div>\n\n      <div className=\"flex gap-6 border-b border-slate-200\">\n        <button\n          onClick={() => setTab(\"list\")}\n          className={`pb-3 text-sm font-bold border-b-2 transition-colors ${tab === \"list\" ? \"border-indigo-600 text-indigo-600\" : \"border-transparent text-slate-500\"}`}\n        >\n          Activos\n        </button>\n        <button\n          onClick={() => setTab(\"history\")}\n          className={`pb-3 text-sm font-bold border-b-2 transition-colors ${tab === \"history\" ? \"border-indigo-600 text-indigo-600\" : \"border-transparent text-slate-500\"}`}\n        >\n          Historial Completo\n        </button>\n      </div>\n\n      {tab === \"create\" && user ? (\n        <CreateRequestForm\n          userId={user.usuarioId}\n          categories={cats}\n          editingId={editingId}\n          initialForm={editingReq}\n          onSuccess={handleFormSuccess}\n          onCancel={() => {\n            setTab(\"list\")\n            setEditingId(null)\n            setEditingReq(null)\n          }}\n        />\n      ) : tab === \"create\" && !user ? (\n        <div className=\"col-span-2 text-center py-10 border-2 border-dashed border-slate-200 rounded-xl\">\n          <p className=\"text-slate-400\">Inicia sesión para crear una solicitud.</p>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {(tab === \"list\"\n            ? reqs.filter(r => r.estado !== \"FINALIZADA\" && r.estado !== \"CANCELADA\")\n            : reqs.filter(r => r.estado === \"FINALIZADA\" || r.estado === \"CANCELADA\")\n          ).map((req: any) => (\n            <Card key={req.id}>\n              <div className=\"flex justify-between mb-2\">\n                <Badge status={req.estado} />\n                <span className=\"text-xs text-slate-400\">#{req.id}</span>\n              </div>\n              <h3 className=\"font-bold text-slate-800\">{req.descripcion}</h3>\n              <p className=\"text-sm text-slate-500 mb-4\">{req.direccion}</p>\n              <div className=\"flex gap-2 text-xs text-slate-400 mb-4\">\n                <Calendar className=\"w-3 h-3\" /> <span>{req.createdAt || \"Hoy\"}</span>\n              </div>\n              <div className=\"pt-4 border-t flex justify-between items-center\">\n                <span className=\"font-bold text-indigo-600\">S/. {req.precioSugerido}</span>\n                <div className=\"flex gap-2\">\n                  {req.estado === \"PENDIENTE\" && (\n                    <>\n                      <button\n                        onClick={() => startEditing(req)}\n                        className=\"p-2 hover:bg-slate-100 rounded-full text-slate-500\"\n                      >\n                        <Edit className=\"w-4 h-4\" />\n                      </button>\n                      <button\n                        onClick={() => handleDelete(req.id)}\n                        className=\"p-2 hover:bg-rose-50 rounded-full text-rose-500\"\n                      >\n                        <Trash2 className=\"w-4 h-4\" />\n                      </button>\n                    </>\n                  )}\n                  {req.estado === \"OFERTANDO\" && (\n                    <Button variant=\"secondary\" className=\"text-xs h-8\" onClick={() => setViewOffersId(req.id)}>\n                      Ver Ofertas\n                    </Button>\n                  )}\n                  {req.estado === \"FINALIZADO_POR_TRABAJADOR\" && (\n                    <Button variant=\"success\" className=\"text-xs h-8\" onClick={() => setPaymentModalId(req.id)}>\n                      Pagar y Finalizar\n                    </Button>\n                  )}\n                </div>\n              </div>\n            </Card>\n          ))}\n          {reqs.length > 0 &&\n            (tab === \"list\"\n              ? reqs.filter(r => r.estado !== \"FINALIZADA\" && r.estado !== \"CANCELADA\")\n              : reqs.filter(r => r.estado === \"FINALIZADA\" || r.estado === \"CANCELADA\")\n            ).length === 0 && (\n              <div className=\"col-span-2 text-center py-10 border-2 border-dashed border-slate-200 rounded-xl\">\n                <p className=\"text-slate-400\">No hay solicitudes en esta sección.</p>\n              </div>\n            )}\n        </div>\n      )}\n\n      {viewOffersId && user && (\n        <OffersModal reqId={viewOffersId} onClose={() => setViewOffersId(null)} user={user} onAccept={loadData} />\n      )}\n\n      {paymentModalId && (\n        <PaymentModal\n          requestId={paymentModalId}\n          amount={reqs.find((r) => r.id === paymentModalId)?.precioSugerido || 0}\n          onClose={() => setPaymentModalId(null)}\n          onPaymentSuccess={() => handlePaymentSuccess(paymentModalId)}\n        />\n      )}\n\n      {reviewModalData && (\n        <ReviewModal\n          requestId={reviewModalData.requestId}\n          workerUsuarioId={reviewModalData.workerUsuarioId}\n          workerName={reviewModalData.workerName}\n          onClose={() => setReviewModalData(null)}\n          onSubmit={handleReviewSubmit}\n        />\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2307, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BLAE/Downloads/Customer/frontend/components/worker/create-offer-modal.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState } from \"react\"\nimport { Button } from \"@/components/ui/custom-button\"\nimport { X } from \"lucide-react\"\n\ninterface CreateOfferModalProps {\n  solicitudId: number\n  onClose: () => void\n  onSubmit: (data: { montoOfrecido: number; comentario: string }) => void\n}\n\nexport const CreateOfferModal: React.FC<CreateOfferModalProps> = ({ solicitudId, onClose, onSubmit }) => {\n  const [montoOfrecido, setMontoOfrecido] = useState(\"\")\n  const [comentario, setComentario] = useState(\"\")\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!montoOfrecido) {\n      alert(\"Por favor, ingresa un monto.\")\n      return\n    }\n    onSubmit({\n      montoOfrecido: parseFloat(montoOfrecido),\n      comentario,\n    })\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\">\n      <div className=\"bg-white rounded-2xl w-full max-w-md p-6\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h3 className=\"font-bold text-lg\">Enviar Mi Oferta</h3>\n          <button onClick={onClose} className=\"text-slate-500 hover:text-slate-800\">\n            <X size={24} />\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div>\n            <label htmlFor=\"montoOfrecido\" className=\"block text-sm font-medium text-slate-700 mb-1\">\n              ¿Cuánto quieres cobrar? (S/.)\n            </label>\n            <input\n              type=\"number\"\n              id=\"montoOfrecido\"\n              value={montoOfrecido}\n              onChange={(e) => setMontoOfrecido(e.target.value)}\n              className=\"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n              placeholder=\"Ej: 80.00\"\n              required\n            />\n          </div>\n\n          <div>\n            <label htmlFor=\"comentario\" className=\"block text-sm font-medium text-slate-700 mb-1\">\n              Comentario (Opcional)\n            </label>\n            <textarea\n              id=\"comentario\"\n              value={comentario}\n              onChange={(e) => setComentario(e.target.value)}\n              className=\"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n              placeholder=\"Ej: Tengo experiencia y herramientas. Puedo empezar ahora mismo.\"\n              rows={3}\n            />\n          </div>\n\n          <div className=\"flex justify-end gap-2 pt-4\">\n            <Button type=\"button\" variant=\"ghost\" onClick={onClose}>\n              Cancelar\n            </Button>\n            <Button type=\"submit\" variant=\"success\">\n              Enviar Oferta\n            </Button>\n          </div>\n        </form>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;;;AALA;;;;AAaO,MAAM,mBAAoD,CAAC,EAAE,WAAW,EAAE,OAAO,EAAE,QAAQ,EAAE;;IAClG,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,8MAAQ,EAAC;IACnD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,8MAAQ,EAAC;IAE7C,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,IAAI,CAAC,eAAe;YAClB,MAAM;YACN;QACF;QACA,SAAS;YACP,eAAe,WAAW;YAC1B;QACF;IACF;IAEA,qBACE,kOAAC;QAAI,WAAU;kBACb,cAAA,kOAAC;YAAI,WAAU;;8BACb,kOAAC;oBAAI,WAAU;;sCACb,kOAAC;4BAAG,WAAU;sCAAoB;;;;;;sCAClC,kOAAC;4BAAO,SAAS;4BAAS,WAAU;sCAClC,cAAA,kOAAC,yOAAC;gCAAC,MAAM;;;;;;;;;;;;;;;;;8BAIb,kOAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,kOAAC;;8CACC,kOAAC;oCAAM,SAAQ;oCAAgB,WAAU;8CAAgD;;;;;;8CAGzF,kOAAC;oCACC,MAAK;oCACL,IAAG;oCACH,OAAO;oCACP,UAAU,CAAC,IAAM,iBAAiB,EAAE,MAAM,CAAC,KAAK;oCAChD,WAAU;oCACV,aAAY;oCACZ,QAAQ;;;;;;;;;;;;sCAIZ,kOAAC;;8CACC,kOAAC;oCAAM,SAAQ;oCAAa,WAAU;8CAAgD;;;;;;8CAGtF,kOAAC;oCACC,IAAG;oCACH,OAAO;oCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;oCAC7C,WAAU;oCACV,aAAY;oCACZ,MAAM;;;;;;;;;;;;sCAIV,kOAAC;4BAAI,WAAU;;8CACb,kOAAC,uLAAM;oCAAC,MAAK;oCAAS,SAAQ;oCAAQ,SAAS;8CAAS;;;;;;8CAGxD,kOAAC,uLAAM;oCAAC,MAAK;oCAAS,SAAQ;8CAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQpD;GApEa;KAAA"}},
    {"offset": {"line": 2493, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BLAE/Downloads/Customer/frontend/components/worker/biometric-verification-modal.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState } from \"react\"\nimport { Button } from \"@/components/ui/custom-button\"\nimport { apiCall } from \"@/lib/api\"\nimport { X, Camera, MapPin, Loader } from \"lucide-react\"\n\ninterface BiometricVerificationModalProps {\n  solicitudId: number\n  onClose: () => void\n  onSuccess: (solicitudId: number) => void\n}\n\nexport const BiometricVerificationModal: React.FC<BiometricVerificationModalProps> = ({\n  solicitudId,\n  onClose,\n  onSuccess,\n}) => {\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  const handleVerification = async () => {\n    setLoading(true)\n    setError(null)\n    try {\n      // 1. Simulate getting GPS location\n      const location = await new Promise<{ lat: number; lng: number }>((resolve) =>\n        setTimeout(() => resolve({ lat: -8.11, lng: -79.03 }), 500)\n      )\n\n      // 2. Simulate taking a selfie and getting a URL\n      const selfieUrl = \"https://this-person-does-not-exist.com/img/avatar-1126a908256a7e1329a3512b963155d0.jpg\"\n\n      // 3. Call backend for verification\n      const verificationResult = await apiCall({\n        endpoint: \"/biometria/verificar\",\n        method: \"POST\",\n        body: {\n          solicitudId: solicitudId,\n          latitudActual: location.lat,\n          longitudActual: location.lng,\n          fotoSelfieUrl: selfieUrl,\n        },\n      })\n\n      // 4. Check result and call onSuccess\n      if (verificationResult.exito) {\n        alert(\"Verificación biométrica exitosa.\")\n        onSuccess(solicitudId)\n        onClose()\n      } else {\n        throw new Error(verificationResult.mensaje || \"La verificación biométrica ha fallado.\")\n      }\n    } catch (err: any) {\n      setError(err.message || \"Ocurrió un error inesperado durante la verificación.\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in\">\n      <div className=\"bg-white rounded-2xl w-full max-w-md shadow-2xl animate-in slide-in-from-bottom-4\">\n        <div className=\"p-6 border-b border-slate-100 flex justify-between items-center\">\n          <h3 className=\"text-xl font-bold text-slate-800\">Verificación de Identidad</h3>\n          <button onClick={onClose} className=\"p-1 hover:bg-slate-100 rounded-full transition-colors\">\n            <X className=\"w-5 h-5 text-slate-400\" />\n          </button>\n        </div>\n\n        <div className=\"p-6 text-center\">\n          <p className=\"text-slate-600 mb-6\">\n            Para garantizar la seguridad, por favor completa una verificación rápida antes de iniciar el trabajo.\n          </p>\n          <div className=\"flex justify-center gap-8 text-slate-500 mb-8\">\n            <div className=\"flex flex-col items-center gap-2\">\n              <Camera className=\"w-8 h-8\" />\n              <span className=\"text-xs font-medium\">Selfie Rápida</span>\n            </div>\n            <div className=\"flex flex-col items-center gap-2\">\n              <MapPin className=\"w-8 h-8\" />\n              <span className=\"text-xs font-medium\">Ubicación GPS</span>\n            </div>\n          </div>\n\n          {error && <p className=\"text-sm text-red-500 bg-red-50 p-3 rounded-lg mb-4\">{error}</p>}\n\n          <Button onClick={handleVerification} disabled={loading} className=\"w-full\">\n            {loading ? <Loader className=\"w-5 h-5 animate-spin\" /> : \"Iniciar Verificación\"}\n          </Button>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;;;AANA;;;;;AAcO,MAAM,6BAAwE,CAAC,EACpF,WAAW,EACX,OAAO,EACP,SAAS,EACV;;IACC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,8MAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,8MAAQ,EAAgB;IAElD,MAAM,qBAAqB;QACzB,WAAW;QACX,SAAS;QACT,IAAI;YACF,mCAAmC;YACnC,MAAM,WAAW,MAAM,IAAI,QAAsC,CAAC,UAChE,WAAW,IAAM,QAAQ;wBAAE,KAAK,CAAC;wBAAM,KAAK,CAAC;oBAAM,IAAI;YAGzD,gDAAgD;YAChD,MAAM,YAAY;YAElB,mCAAmC;YACnC,MAAM,qBAAqB,MAAM,IAAA,6JAAO,EAAC;gBACvC,UAAU;gBACV,QAAQ;gBACR,MAAM;oBACJ,aAAa;oBACb,eAAe,SAAS,GAAG;oBAC3B,gBAAgB,SAAS,GAAG;oBAC5B,eAAe;gBACjB;YACF;YAEA,qCAAqC;YACrC,IAAI,mBAAmB,KAAK,EAAE;gBAC5B,MAAM;gBACN,UAAU;gBACV;YACF,OAAO;gBACL,MAAM,IAAI,MAAM,mBAAmB,OAAO,IAAI;YAChD;QACF,EAAE,OAAO,KAAU;YACjB,SAAS,IAAI,OAAO,IAAI;QAC1B,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,kOAAC;QAAI,WAAU;kBACb,cAAA,kOAAC;YAAI,WAAU;;8BACb,kOAAC;oBAAI,WAAU;;sCACb,kOAAC;4BAAG,WAAU;sCAAmC;;;;;;sCACjD,kOAAC;4BAAO,SAAS;4BAAS,WAAU;sCAClC,cAAA,kOAAC,yOAAC;gCAAC,WAAU;;;;;;;;;;;;;;;;;8BAIjB,kOAAC;oBAAI,WAAU;;sCACb,kOAAC;4BAAE,WAAU;sCAAsB;;;;;;sCAGnC,kOAAC;4BAAI,WAAU;;8CACb,kOAAC;oCAAI,WAAU;;sDACb,kOAAC,wPAAM;4CAAC,WAAU;;;;;;sDAClB,kOAAC;4CAAK,WAAU;sDAAsB;;;;;;;;;;;;8CAExC,kOAAC;oCAAI,WAAU;;sDACb,kOAAC,4PAAM;4CAAC,WAAU;;;;;;sDAClB,kOAAC;4CAAK,WAAU;sDAAsB;;;;;;;;;;;;;;;;;;wBAIzC,uBAAS,kOAAC;4BAAE,WAAU;sCAAsD;;;;;;sCAE7E,kOAAC,uLAAM;4BAAC,SAAS;4BAAoB,UAAU;4BAAS,WAAU;sCAC/D,wBAAU,kOAAC,wPAAM;gCAAC,WAAU;;;;;2EAA4B;;;;;;;;;;;;;;;;;;;;;;;AAMrE;GAjFa;KAAA"}},
    {"offset": {"line": 2710, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BLAE/Downloads/Customer/frontend/components/worker/worker-accepted-jobs.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { Card } from \"@/components/ui/custom-card\"\nimport { Button } from \"@/components/ui/custom-button\"\nimport { MapPin, User, Phone, CheckCircle, X } from \"lucide-react\"\n\ninterface AcceptedJobsProps {\n  jobs: any[]\n  onJobAction: (action: \"start\" | \"finish\", jobId: number) => void\n  isHistory?: boolean\n}\n\nexport const WorkerAcceptedJobs: React.FC<AcceptedJobsProps> = ({ jobs, onJobAction, isHistory = false }) => {\n  if (jobs.length === 0) {\n    return (\n      <div className=\"text-center py-10 border-2 border-dashed border-slate-200 rounded-xl\">\n        <p className=\"text-slate-400\">\n          {isHistory ? \"No tienes trabajos en tu historial.\" : \"No tienes trabajos aceptados por el momento.\"}\n        </p>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n      {jobs.map((job) => (\n        <Card key={job.id} className=\"bg-white\">\n          <div className=\"flex justify-between mb-2\">\n            <span className=\"text-xs bg-slate-100 px-2 py-1 rounded font-bold\">#{job.id}</span>\n            <span className=\"font-bold text-emerald-600\">S/. {job.precioSugerido}</span>\n          </div>\n          <h4 className=\"font-bold text-slate-800 mb-2\">{job.descripcion}</h4>\n          <div className=\"text-sm text-slate-500 space-y-2 mt-4 pt-4 border-t\">\n            <p className=\"flex items-center gap-2\">\n              <MapPin className=\"w-4 h-4 text-slate-400\" /> {job.direccion}\n            </p>\n            <p className=\"flex items-center gap-2\">\n              <User className=\"w-4 h-4 text-slate-400\" /> {job.cliente?.nombreCompleto || \"Cliente Anónimo\"}\n            </p>\n            <p className=\"flex items-center gap-2\">\n              <Phone className=\"w-4 h-4 text-slate-400\" /> {job.cliente?.telefono || \"No disponible\"}\n            </p>\n          </div>\n          <div className=\"mt-4 pt-4 border-t\">\n            {job.estado === \"ACEPTADO\" && (\n              <Button className=\"w-full\" onClick={() => onJobAction(\"start\", job.id)}>\n                Iniciar Trabajo\n              </Button>\n            )}\n            {job.estado === \"EN_PROCESO\" && (\n              <Button className=\"w-full\" variant=\"success\" onClick={() => onJobAction(\"finish\", job.id)}>\n                Finalizar Trabajo\n              </Button>\n            )}\n            {(job.estado === \"FINALIZADA\" || job.estado === \"FINALIZADO_POR_TRABAJADOR\") && (\n               <div className=\"flex items-center justify-center gap-2 text-sm text-emerald-600 font-bold py-2\">\n                  <CheckCircle className=\"w-4 h-4\" />\n                  <span>Trabajo Completado</span>\n               </div>\n            )}\n             {job.estado === \"CANCELADA\" && (\n                <div className=\"flex items-center justify-center gap-2 text-sm text-rose-600 font-bold py-2\">\n                    <X className=\"w-4 h-4\" />\n                    <span>Cancelado</span>\n                </div>\n             )}\n          </div>\n        </Card>\n      ))}\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AALA;;;;;AAaO,MAAM,qBAAkD,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,YAAY,KAAK,EAAE;IACtG,IAAI,KAAK,MAAM,KAAK,GAAG;QACrB,qBACE,kOAAC;YAAI,WAAU;sBACb,cAAA,kOAAC;gBAAE,WAAU;0BACV,YAAY,wCAAwC;;;;;;;;;;;IAI7D;IAEA,qBACE,kOAAC;QAAI,WAAU;kBACZ,KAAK,GAAG,CAAC,CAAC,oBACT,kOAAC,mLAAI;gBAAc,WAAU;;kCAC3B,kOAAC;wBAAI,WAAU;;0CACb,kOAAC;gCAAK,WAAU;;oCAAmD;oCAAE,IAAI,EAAE;;;;;;;0CAC3E,kOAAC;gCAAK,WAAU;;oCAA6B;oCAAK,IAAI,cAAc;;;;;;;;;;;;;kCAEtE,kOAAC;wBAAG,WAAU;kCAAiC,IAAI,WAAW;;;;;;kCAC9D,kOAAC;wBAAI,WAAU;;0CACb,kOAAC;gCAAE,WAAU;;kDACX,kOAAC,4PAAM;wCAAC,WAAU;;;;;;oCAA2B;oCAAE,IAAI,SAAS;;;;;;;0CAE9D,kOAAC;gCAAE,WAAU;;kDACX,kOAAC,kPAAI;wCAAC,WAAU;;;;;;oCAA2B;oCAAE,IAAI,OAAO,EAAE,kBAAkB;;;;;;;0CAE9E,kOAAC;gCAAE,WAAU;;kDACX,kOAAC,qPAAK;wCAAC,WAAU;;;;;;oCAA2B;oCAAE,IAAI,OAAO,EAAE,YAAY;;;;;;;;;;;;;kCAG3E,kOAAC;wBAAI,WAAU;;4BACZ,IAAI,MAAM,KAAK,4BACd,kOAAC,uLAAM;gCAAC,WAAU;gCAAS,SAAS,IAAM,YAAY,SAAS,IAAI,EAAE;0CAAG;;;;;;4BAIzE,IAAI,MAAM,KAAK,8BACd,kOAAC,uLAAM;gCAAC,WAAU;gCAAS,SAAQ;gCAAU,SAAS,IAAM,YAAY,UAAU,IAAI,EAAE;0CAAG;;;;;;4BAI5F,CAAC,IAAI,MAAM,KAAK,gBAAgB,IAAI,MAAM,KAAK,2BAA2B,mBACxE,kOAAC;gCAAI,WAAU;;kDACZ,kOAAC,kRAAW;wCAAC,WAAU;;;;;;kDACvB,kOAAC;kDAAK;;;;;;;;;;;;4BAGV,IAAI,MAAM,KAAK,6BACb,kOAAC;gCAAI,WAAU;;kDACX,kOAAC,yOAAC;wCAAC,WAAU;;;;;;kDACb,kOAAC;kDAAK;;;;;;;;;;;;;;;;;;;eArCP,IAAI,EAAE;;;;;;;;;;AA6CzB;KA3Da"}},
    {"offset": {"line": 2948, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BLAE/Downloads/Customer/frontend/components/worker/worker-dashboard.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState, useEffect } from \"react\"\nimport { CreateOfferModal } from \"@/components/worker/create-offer-modal\"\nimport { BiometricVerificationModal } from \"@/components/worker/biometric-verification-modal\"\nimport { useAuth } from \"@/context/auth-context\"\nimport { apiCall } from \"@/lib/api\"\nimport { Button } from \"@/components/ui/custom-button\"\nimport { Card } from \"@/components/ui/custom-card\"\nimport { MapPin, Star } from \"lucide-react\"\nimport { WorkerAcceptedJobs } from \"./worker-accepted-jobs\"\n\nexport const WorkerDashboard: React.FC = () => {\n  // Main states\n  const { user } = useAuth()\n  const [jobs, setJobs] = useState<any[]>([])\n  const [acceptedJobs, setAcceptedJobs] = useState<any[]>([])\n  const [myProfile, setMyProfile] = useState<any>(null)\n  const [tab, setTab] = useState<\"disponibles\" | \"aceptados\" | \"historial\">(\"disponibles\")\n\n  // Modal states\n  const [isOfferModalOpen, setIsOfferModalOpen] = useState(false)\n  const [selectedJobId, setSelectedJobId] = useState<number | null>(null)\n  const [verifyingJobId, setVerifyingJobId] = useState<number | null>(null)\n\n  // Load all data on mount and when user changes\n  useEffect(() => {\n    if (user?.usuarioId) {\n      loadData()\n    }\n  }, [user])\n\n  const loadData = () => {\n    if (!user?.usuarioId) return\n    Promise.all([\n      apiCall({ endpoint: \"/solicitudes/disponibles\" }),\n      apiCall({ endpoint: `/solicitudes/mis-trabajos?usuarioId=${user.usuarioId}` }),\n      apiCall({ endpoint: `/trabajadores/usuario/${user.usuarioId}` }),\n    ])\n      .then(([disponibles, aceptados, profile]) => {\n        setJobs(disponibles)\n        setAcceptedJobs(aceptados)\n        setMyProfile(profile)\n      })\n      .catch((err) => console.error(\"Error fetching worker data:\", err))\n  }\n\n  // --- Offer Modal Handlers ---\n  const handleOpenOfferModal = (jobId: number) => {\n    setSelectedJobId(jobId)\n    setIsOfferModalOpen(true)\n  }\n  const handleCloseOfferModal = () => {\n    setSelectedJobId(null)\n    setIsOfferModalOpen(false)\n  }\n  const handleSendOffer = async (data: { montoOfrecido: number; comentario: string }) => {\n    if (!selectedJobId || !user) return\n    try {\n      await apiCall({\n        endpoint: `/ofertas?trabajadorUsuarioId=${user.usuarioId}`,\n        method: \"POST\",\n        body: { solicitudId: selectedJobId, ...data },\n      })\n      alert(\"¡Oferta enviada con éxito!\")\n      handleCloseOfferModal()\n      loadData()\n    } catch (error) {\n      console.error(\"Error al enviar la oferta:\", error)\n      alert(\"Hubo un error al enviar tu oferta.\")\n    }\n  }\n\n  // --- Job Lifecycle Handlers ---\n  const openBiometricModal = (jobId: number) => {\n    setVerifyingJobId(jobId)\n  }\n\n  const handleVerificationSuccess = async (jobId: number) => {\n    if (!user) return\n    try {\n      await apiCall({\n        endpoint: `/solicitudes/${jobId}/iniciar?trabajadorUsuarioId=${user.usuarioId}`,\n        method: \"PUT\",\n      })\n      alert(\"Trabajo iniciado. ¡Buena suerte!\")\n      loadData()\n    } catch (err) {\n      console.error(\"Error al iniciar trabajo:\", err)\n      alert(\"No se pudo iniciar el trabajo.\")\n    }\n  }\n\n  const handleJobFinish = async (jobId: number) => {\n    if (!user) return\n    try {\n      await apiCall({\n        endpoint: `/solicitudes/${jobId}/trabajador-finalizar?trabajadorUsuarioId=${user.usuarioId}`,\n        method: \"PUT\",\n      })\n      alert(\"¡Trabajo marcado como finalizado! El cliente será notificado para realizar el pago.\")\n      loadData()\n    } catch (err) {\n      console.error(\"Error al finalizar trabajo:\", err)\n      alert(\"No se pudo finalizar el trabajo.\")\n    }\n  }\n\n  const handleJobAction = (action: \"start\" | \"finish\", jobId: number) => {\n    switch (action) {\n      case \"start\":\n        openBiometricModal(jobId)\n        break\n      case \"finish\":\n        handleJobFinish(jobId)\n        break\n    }\n  }\n\n  // --- Data Filtering for Tabs ---\n  const activeAcceptedJobs = acceptedJobs.filter(\n    (job) => job.estado === \"ACEPTADO\" || job.estado === \"EN_PROCESO\"\n  )\n  const finishedJobs = acceptedJobs.filter(\n    (job) => job.estado === \"FINALIZADO_POR_TRABAJADOR\" || job.estado === \"FINALIZADA\" || job.estado === \"CANCELADA\"\n  )\n\n  return (\n    <>\n      <div className=\"space-y-6 max-w-5xl mx-auto p-4\">\n        {/* Stats Section */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div className=\"bg-slate-900 text-white p-6 rounded-2xl\">\n            <p className=\"text-slate-400 text-sm\">Ganancias</p>\n            <h3 className=\"text-3xl font-bold\">S/. 450</h3>\n          </div>\n          <div className=\"bg-white p-6 rounded-2xl border shadow-sm\">\n            <p className=\"text-slate-500 text-sm\">Calificación</p>\n            <h3 className=\"text-3xl font-bold text-slate-800 flex items-center gap-2\">\n              <Star className=\"w-7 h-7 text-yellow-400\" />\n              {myProfile?.calificacionPromedio?.toFixed(1) || \"N/A\"}\n            </h3>\n          </div>\n          <div className=\"bg-white p-6 rounded-2xl border shadow-sm\">\n            <p className=\"text-slate-500 text-sm\">Trabajos Completados</p>\n            <h3 className=\"text-3xl font-bold text-slate-800\">{myProfile?.trabajosCompletados || 0}</h3>\n          </div>\n        </div>\n\n        {/* Tab Navigation */}\n        <div className=\"flex gap-2 border-b\">\n          <button\n            onClick={() => setTab(\"disponibles\")}\n            className={`px-4 py-2 font-medium transition-colors ${tab === \"disponibles\" ? \"text-indigo-600 border-b-2 border-indigo-600\" : \"text-slate-500 hover:text-slate-700\"}`}\n          >\n            Disponibles\n          </button>\n          <button\n            onClick={() => setTab(\"aceptados\")}\n            className={`px-4 py-2 font-medium transition-colors relative ${tab === \"aceptados\" ? \"text-indigo-600 border-b-2 border-indigo-600\" : \"text-slate-500 hover:text-slate-700\"}`}\n          >\n            Mis Trabajos\n            {activeAcceptedJobs.length > 0 && <span className=\"ml-2 bg-indigo-600 text-white text-xs rounded-full px-2 py-0.5\">{activeAcceptedJobs.length}</span>}\n          </button>\n          <button\n            onClick={() => setTab(\"historial\")}\n            className={`px-4 py-2 font-medium transition-colors ${tab === \"historial\" ? \"text-indigo-600 border-b-2 border-indigo-600\" : \"text-slate-500 hover:text-slate-700\"}`}\n          >\n            Historial\n          </button>\n        </div>\n\n        {/* Conditional Content */}\n        {tab === \"disponibles\" && (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {jobs.map((job: any) => (\n              <Card key={job.id}>\n                {/* ... job card content ... */}\n                <div className=\"flex justify-between mb-2\">\n                  <span className=\"text-xs bg-slate-100 px-2 py-1 rounded font-bold\">#{job.id}</span>\n                  <span className=\"font-bold text-emerald-600\">S/. {job.precioSugerido}</span>\n                </div>\n                <h4 className=\"font-bold text-slate-800 mb-2\">{job.descripcion}</h4>\n                <p className=\"text-sm text-slate-500 mb-4 flex items-center gap-1\">\n                  <MapPin className=\"w-3 h-3\" /> {job.direccion}\n                </p>\n                <Button className=\"w-full\" onClick={() => handleOpenOfferModal(job.id)}>Postularme</Button>\n              </Card>\n            ))}\n            {jobs.length === 0 && <p className=\"col-span-full text-center py-8 text-slate-400\">No hay trabajos disponibles.</p>}\n          </div>\n        )}\n        {tab === \"aceptados\" && (\n          <WorkerAcceptedJobs jobs={activeAcceptedJobs} onJobAction={handleJobAction} />\n        )}\n        {tab === \"historial\" && (\n          <WorkerAcceptedJobs jobs={finishedJobs} onJobAction={() => {}} isHistory={true} />\n        )}\n      </div>\n\n      {isOfferModalOpen && selectedJobId && (<CreateOfferModal solicitudId={selectedJobId} onClose={handleCloseOfferModal} onSubmit={handleSendOffer}/>)}\n      {verifyingJobId && (<BiometricVerificationModal solicitudId={verifyingJobId} onClose={() => setVerifyingJobId(null)} onSuccess={handleVerificationSuccess}/>)}\n    </>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3382, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BLAE/Downloads/Customer/frontend/components/subscription/subscription-page.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState, useEffect } from \"react\"\nimport { useAuth } from \"@/context/auth-context\"\nimport { apiCall } from \"@/lib/api\"\nimport { Button } from \"@/components/ui/custom-button\"\nimport { PaymentModal } from \"@/components/common/payment-modal\"\nimport { CheckCircle } from \"lucide-react\"\n\nexport const SubscriptionPage: React.FC = () => {\n  const { user, activeRole } = useAuth()\n  const [plans, setPlans] = useState<any[]>([])\n  const [selectedPlan, setSelectedPlan] = useState<any | null>(null)\n\n  useEffect(() => {\n    if (activeRole) {\n      apiCall({ endpoint: `/suscripciones/planes?rol=${activeRole}` }).then(setPlans)\n    }\n  }, [activeRole])\n\n  const handleSubscribeClick = (plan: any) => {\n    if (plan.precio === 0) {\n      // Handle free plan directly\n      handlePaymentSuccess(plan.id)\n    } else {\n      setSelectedPlan(plan)\n    }\n  }\n\n  const handlePaymentSuccess = async (planIdToSubscribe?: number) => {\n    const finalPlanId = planIdToSubscribe || selectedPlan?.id\n    if (!finalPlanId || !user) {\n      alert(\"Error: No se pudo determinar el plan o el usuario.\")\n      return\n    }\n\n    try {\n      await apiCall({\n        endpoint: `/suscripciones/suscribir?usuarioId=${user.usuarioId}`,\n        method: \"POST\",\n        body: {\n          planId: finalPlanId,\n          meses: 1, // Defaulting to 1 month\n        },\n      })\n      alert(\"¡Suscripción activada con éxito!\")\n      setSelectedPlan(null)\n      // Here you might want to refetch user data or redirect\n    } catch (error) {\n      console.error(\"Error al suscribirse:\", error)\n      alert(\"Hubo un error al procesar tu suscripción.\")\n    }\n  }\n\n  return (\n    <>\n      <div className=\"max-w-5xl mx-auto p-4\">\n        <h2 className=\"text-2xl font-bold text-center mb-8\">\n          Planes para {activeRole === \"TRABAJADOR\" ? \"Profesionales\" : \"Clientes\"}\n        </h2>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto\">\n          {plans.map((plan: any) => (\n            <div\n              key={plan.id}\n              className={`bg-white p-8 rounded-3xl border transition-all ${\n                plan.recomendado ? \"border-indigo-500 shadow-xl scale-105\" : \"border-slate-200\"\n              }`}\n            >\n              <h3 className=\"font-bold text-xl text-slate-800\">{plan.nombre}</h3>\n              <div className=\"my-4 flex items-baseline gap-1\">\n                <span className=\"text-4xl font-black text-slate-900\">S/.{plan.precio}</span>\n                <span className=\"text-sm text-slate-500\">{plan.periodo}</span>\n              </div>\n              <ul className=\"space-y-2 mb-8\">\n                {plan.features.split(\"|\").map((f: string, i: number) => (\n                  <li key={i} className=\"flex gap-2 text-sm text-slate-600\">\n                    <CheckCircle className=\"w-4 h-4 text-emerald-500\" /> {f}\n                  </li>\n                ))}\n              </ul>\n              <Button\n                className=\"w-full\"\n                variant={plan.recomendado ? \"primary\" : \"secondary\"}\n                onClick={() => handleSubscribeClick(plan)}\n              >\n                {plan.precio === 0 ? \"Activar Gratis\" : \"Seleccionar\"}\n              </Button>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {selectedPlan && (\n        <PaymentModal\n          requestId={selectedPlan.id} // Using planId as a unique identifier for the modal\n          amount={selectedPlan.precio}\n          onClose={() => setSelectedPlan(null)}\n          onPaymentSuccess={() => handlePaymentSuccess()}\n        />\n      )}\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;AAUO,MAAM,mBAA6B;;IACxC,MAAM,EAAE,IAAI,EAAE,UAAU,EAAE,GAAG,IAAA,8KAAO;IACpC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,8MAAQ,EAAQ,EAAE;IAC5C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,8MAAQ,EAAa;IAE7D,IAAA,+MAAS;sCAAC;YACR,IAAI,YAAY;gBACd,IAAA,6JAAO,EAAC;oBAAE,UAAU,CAAC,0BAA0B,EAAE,YAAY;gBAAC,GAAG,IAAI,CAAC;YACxE;QACF;qCAAG;QAAC;KAAW;IAEf,MAAM,uBAAuB,CAAC;QAC5B,IAAI,KAAK,MAAM,KAAK,GAAG;YACrB,4BAA4B;YAC5B,qBAAqB,KAAK,EAAE;QAC9B,OAAO;YACL,gBAAgB;QAClB;IACF;IAEA,MAAM,uBAAuB,OAAO;QAClC,MAAM,cAAc,qBAAqB,cAAc;QACvD,IAAI,CAAC,eAAe,CAAC,MAAM;YACzB,MAAM;YACN;QACF;QAEA,IAAI;YACF,MAAM,IAAA,6JAAO,EAAC;gBACZ,UAAU,CAAC,mCAAmC,EAAE,KAAK,SAAS,EAAE;gBAChE,QAAQ;gBACR,MAAM;oBACJ,QAAQ;oBACR,OAAO;gBACT;YACF;YACA,MAAM;YACN,gBAAgB;QAChB,uDAAuD;QACzD,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;YACvC,MAAM;QACR;IACF;IAEA,qBACE;;0BACE,kOAAC;gBAAI,WAAU;;kCACb,kOAAC;wBAAG,WAAU;;4BAAsC;4BACrC,eAAe,eAAe,kBAAkB;;;;;;;kCAG/D,kOAAC;wBAAI,WAAU;kCACZ,MAAM,GAAG,CAAC,CAAC,qBACV,kOAAC;gCAEC,WAAW,CAAC,+CAA+C,EACzD,KAAK,WAAW,GAAG,0CAA0C,oBAC7D;;kDAEF,kOAAC;wCAAG,WAAU;kDAAoC,KAAK,MAAM;;;;;;kDAC7D,kOAAC;wCAAI,WAAU;;0DACb,kOAAC;gDAAK,WAAU;;oDAAqC;oDAAI,KAAK,MAAM;;;;;;;0DACpE,kOAAC;gDAAK,WAAU;0DAA0B,KAAK,OAAO;;;;;;;;;;;;kDAExD,kOAAC;wCAAG,WAAU;kDACX,KAAK,QAAQ,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,GAAW,kBACxC,kOAAC;gDAAW,WAAU;;kEACpB,kOAAC,kRAAW;wDAAC,WAAU;;;;;;oDAA6B;oDAAE;;+CAD/C;;;;;;;;;;kDAKb,kOAAC,uLAAM;wCACL,WAAU;wCACV,SAAS,KAAK,WAAW,GAAG,YAAY;wCACxC,SAAS,IAAM,qBAAqB;kDAEnC,KAAK,MAAM,KAAK,IAAI,mBAAmB;;;;;;;+BAtBrC,KAAK,EAAE;;;;;;;;;;;;;;;;YA6BnB,8BACC,kOAAC,iMAAY;gBACX,WAAW,aAAa,EAAE;gBAC1B,QAAQ,aAAa,MAAM;gBAC3B,SAAS,IAAM,gBAAgB;gBAC/B,kBAAkB,IAAM;;;;;;;;AAKlC;GA9Fa;;QACkB,8KAAO;;;KADzB"}},
    {"offset": {"line": 3586, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BLAE/Downloads/Customer/frontend/components/common/my-profile-view.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useAuth } from \"@/context/auth-context\"\nimport { apiCall } from \"@/lib/api\"\nimport { Button } from \"@/components/ui/custom-button\"\nimport { Shield, Star, MessageSquare, Loader } from \"lucide-react\"\n\nexport const MyProfileView = () => {\n  const { user, activeRole } = useAuth()\n\n  const [myProfile, setMyProfile] = useState<any>(null)\n  const [myReviews, setMyReviews] = useState<any[]>([])\n  const [loadingProfile, setLoadingProfile] = useState(true)\n\n  useEffect(() => {\n    if (user?.usuarioId && user.esTrabajador) {\n      setLoadingProfile(true)\n      Promise.all([\n        apiCall({ endpoint: `/trabajadores/usuario/${user.usuarioId}` }),\n        apiCall({ endpoint: `/resenas/usuario/${user.usuarioId}` }),\n      ])\n        .then(([profileData, reviewsData]) => {\n          setMyProfile(profileData)\n          setMyReviews(reviewsData)\n        })\n        .catch((err) => console.error(\"Error fetching worker profile:\", err))\n        .finally(() => setLoadingProfile(false))\n    } else {\n      setLoadingProfile(false)\n    }\n  }, [user])\n\n  return (\n    <div className=\"max-w-4xl mx-auto p-4 animate-in fade-in\">\n      <div className=\"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden\">\n        <div className=\"h-32 bg-gradient-to-r from-indigo-500 to-purple-600\" />\n        <div className=\"px-8 pb-8\">\n          <div className=\"relative flex justify-between items-end -mt-12 mb-6\">\n            <div className=\"w-24 h-24 bg-white p-1 rounded-full shadow-lg\">\n              <div className=\"w-full h-full bg-slate-200 rounded-full flex items-center justify-center text-3xl font-bold text-slate-500\">\n                {user?.nombreCompleto?.charAt(0)}\n              </div>\n            </div>\n            <Button variant=\"secondary\">Editar Perfil</Button>\n          </div>\n\n          <div>\n            <h2 className=\"text-2xl font-bold text-slate-800\">{user?.nombreCompleto}</h2>\n            <p className=\"text-slate-500\">{user?.email}</p>\n            <div className=\"flex gap-2 mt-2\">\n              <span className=\"px-2 py-1 bg-slate-100 text-slate-600 text-xs rounded font-bold\">{activeRole}</span>\n              {user?.esTrabajador && myProfile?.verificado && (\n                <span className=\"px-2 py-1 bg-emerald-100 text-emerald-700 text-xs rounded font-bold flex items-center gap-1\">\n                  <Shield className=\"w-3 h-3\" /> Verificado\n                </span>\n              )}\n            </div>\n          </div>\n\n          {user?.esTrabajador && (\n            <div className=\"mt-8 pt-8 border-t border-slate-100\">\n              {loadingProfile ? (\n                <div className=\"text-center py-4\">\n                  <Loader className=\"w-6 h-6 animate-spin mx-auto text-indigo-600\" />\n                </div>\n              ) : myProfile ? (\n                <div className=\"space-y-8\">\n                  <div>\n                    <h3 className=\"font-bold text-lg mb-4\">Estadísticas de Trabajador</h3>\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                      <div className=\"p-4 bg-slate-50 rounded-xl border border-slate-100\">\n                        <p className=\"text-xs text-slate-400 uppercase font-bold\">Calificación</p>\n                        <p className=\"text-2xl font-bold text-indigo-600 flex items-center gap-2\">\n                          <Star className=\"w-5 h-5 text-yellow-400\" />\n                          {myProfile.calificacionPromedio?.toFixed(1) || \"N/A\"}\n                        </p>\n                      </div>\n                      <div className=\"p-4 bg-slate-50 rounded-xl border border-slate-100\">\n                        <p className=\"text-xs text-slate-400 uppercase font-bold\">Trabajos Completados</p>\n                        <p className=\"text-2xl font-bold text-emerald-600\">{myProfile.trabajosCompletados || 0}</p>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div>\n                    <h4 className=\"font-bold text-lg mb-4\">Biografía</h4>\n                    <p className=\"text-slate-700 bg-slate-50 p-4 rounded-xl text-sm leading-relaxed\">\n                      {myProfile.biografia || \"No has establecido una biografía todavía.\"}\n                    </p>\n                  </div>\n\n                  <div>\n                    <h4 className=\"font-bold text-lg mb-4 flex items-center gap-2\">\n                      <MessageSquare className=\"w-5 h-5\" /> Comentarios Recibidos ({myReviews.length})\n                    </h4>\n                    {myReviews.length === 0 ? (\n                      <p className=\"text-slate-500 text-sm italic\">Aún no tienes reseñas.</p>\n                    ) : (\n                      <div className=\"space-y-4\">\n                        {myReviews.map((rev: any) => (\n                          <div key={rev.id} className=\"border-b border-slate-100 pb-3 last:border-0\">\n                            <div className=\"flex justify-between items-start mb-1\">\n                              <span className=\"font-bold text-sm text-slate-800\">{rev.autor.nombreCompleto}</span>\n                              <span className=\"text-xs text-slate-400\">\n                                {new Date(rev.createdAt).toLocaleDateString()}\n                              </span>\n                            </div>\n                            <div className=\"flex text-yellow-400 mb-1\">\n                              {[...Array(rev.calificacion)].map((_, i) => (\n                                <Star key={i} className=\"w-3 h-3 fill-current\" />\n                              ))}\n                            </div>\n                            <p className=\"text-sm text-slate-600\">\"{rev.comentario}\"</p>\n                          </div>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n                </div>\n              ) : (\n                <p className=\"text-slate-500 text-sm\">No se pudo cargar tu perfil de trabajador.</p>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4026, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BLAE/Downloads/Customer/frontend/components/common/dashboard-layout.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState } from \"react\"\nimport { useAuth } from \"@/context/auth-context\"\nimport { ClientDashboard } from \"@/components/client/client-dashboard\"\nimport { WorkerDashboard } from \"@/components/worker/worker-dashboard\"\nimport { SubscriptionPage } from \"@/components/subscription/subscription-page\"\nimport { MyProfileView } from \"@/components/common/my-profile-view\"\nimport { LayoutDashboard, CreditCard, LogOut, Menu, ChevronRight, User } from \"lucide-react\"\n\nexport const DashboardLayout: React.FC = () => {\n  const { user, activeRole, logout, toggleRole } = useAuth()\n  const [view, setView] = useState(\"dashboard\")\n\n  return (\n    <div className=\"flex min-h-screen bg-slate-50 font-sans text-slate-900\">\n      <aside className=\"w-64 bg-white border-r hidden md:flex flex-col justify-between fixed h-full z-20\">\n        <div>\n          <div className=\"h-20 flex items-center px-8 border-b\">\n            <span className=\"font-bold text-xl\">ProxHogar</span>\n          </div>\n          <div className=\"p-4 space-y-1\">\n            <button\n              onClick={() => setView(\"dashboard\")}\n              className={`w-full text-left px-4 py-3 rounded-xl flex gap-3 ${\n                view === \"dashboard\" ? \"bg-indigo-50 text-indigo-700 font-bold\" : \"hover:bg-slate-50\"\n              }`}\n            >\n              <LayoutDashboard className=\"w-5 h-5\" /> Panel\n            </button>\n            <button\n              onClick={() => setView(\"planes\")}\n              className={`w-full text-left px-4 py-3 rounded-xl flex gap-3 ${\n                view === \"planes\" ? \"bg-indigo-50 text-indigo-700 font-bold\" : \"hover:bg-slate-50\"\n              }`}\n            >\n              <CreditCard className=\"w-5 h-5\" /> Planes\n            </button>\n            <button\n              onClick={() => setView(\"profile\")}\n              className={`w-full text-left px-4 py-3 rounded-xl flex gap-3 ${\n                view === \"profile\" ? \"bg-indigo-50 text-indigo-700 font-bold\" : \"hover:bg-slate-50\"\n              }`}\n            >\n              <User className=\"w-5 h-5\" /> Mi Perfil\n            </button>\n\n            <div className=\"mt-8 bg-slate-900 text-white p-4 rounded-xl\">\n              <p className=\"text-xs opacity-50 mb-1\">Rol Actual</p>\n              <p className=\"font-bold mb-3\">{activeRole}</p>\n              <button\n                onClick={toggleRole}\n                className=\"w-full bg-white/20 py-2 rounded text-xs flex justify-center gap-2\"\n              >\n                Cambiar Rol <ChevronRight className=\"w-3 h-3\" />\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"p-4 border-t\">\n          <button onClick={logout} className=\"flex gap-2 text-slate-500 hover:text-red-500\">\n            <LogOut className=\"w-5 h-5\" /> Salir\n          </button>\n        </div>\n      </aside>\n\n      <main className=\"flex-1 md:ml-64 p-8\">\n        <header className=\"flex justify-between items-center mb-8 md:hidden\">\n          <span className=\"font-bold\">ProxHogar</span>\n          <Menu className=\"w-6 h-6\" />\n        </header>\n\n        {view === \"planes\" ? (\n          <SubscriptionPage />\n        ) : view === \"profile\" ? (\n          <MyProfileView />\n        ) : activeRole === \"CLIENTE\" ? (\n          <ClientDashboard />\n        ) : (\n          <WorkerDashboard />\n        )}\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AATA;;;;;;;;AAWO,MAAM,kBAA4B;;IACvC,MAAM,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,8KAAO;IACxD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,8MAAQ,EAAC;IAEjC,qBACE,kOAAC;QAAI,WAAU;;0BACb,kOAAC;gBAAM,WAAU;;kCACf,kOAAC;;0CACC,kOAAC;gCAAI,WAAU;0CACb,cAAA,kOAAC;oCAAK,WAAU;8CAAoB;;;;;;;;;;;0CAEtC,kOAAC;gCAAI,WAAU;;kDACb,kOAAC;wCACC,SAAS,IAAM,QAAQ;wCACvB,WAAW,CAAC,iDAAiD,EAC3D,SAAS,cAAc,2CAA2C,qBAClE;;0DAEF,kOAAC,uRAAe;gDAAC,WAAU;;;;;;4CAAY;;;;;;;kDAEzC,kOAAC;wCACC,SAAS,IAAM,QAAQ;wCACvB,WAAW,CAAC,iDAAiD,EAC3D,SAAS,WAAW,2CAA2C,qBAC/D;;0DAEF,kOAAC,wQAAU;gDAAC,WAAU;;;;;;4CAAY;;;;;;;kDAEpC,kOAAC;wCACC,SAAS,IAAM,QAAQ;wCACvB,WAAW,CAAC,iDAAiD,EAC3D,SAAS,YAAY,2CAA2C,qBAChE;;0DAEF,kOAAC,kPAAI;gDAAC,WAAU;;;;;;4CAAY;;;;;;;kDAG9B,kOAAC;wCAAI,WAAU;;0DACb,kOAAC;gDAAE,WAAU;0DAA0B;;;;;;0DACvC,kOAAC;gDAAE,WAAU;0DAAkB;;;;;;0DAC/B,kOAAC;gDACC,SAAS;gDACT,WAAU;;oDACX;kEACa,kOAAC,8QAAY;wDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAM5C,kOAAC;wBAAI,WAAU;kCACb,cAAA,kOAAC;4BAAO,SAAS;4BAAQ,WAAU;;8CACjC,kOAAC,4PAAM;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;;;;;;;0BAKpC,kOAAC;gBAAK,WAAU;;kCACd,kOAAC;wBAAO,WAAU;;0CAChB,kOAAC;gCAAK,WAAU;0CAAY;;;;;;0CAC5B,kOAAC,kPAAI;gCAAC,WAAU;;;;;;;;;;;;oBAGjB,SAAS,yBACR,kOAAC,+MAAgB;;;;mEACf,SAAS,0BACX,kOAAC,uMAAa;;;;mEACZ,eAAe,0BACjB,kOAAC,uMAAe;;;;iFAEhB,kOAAC,uMAAe;;;;;;;;;;;;;;;;;AAK1B;GA3Ea;;QACsC,8KAAO;;;KAD7C"}},
    {"offset": {"line": 4295, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/BLAE/Downloads/Customer/frontend/app/dashboard/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { useAuth } from \"@/context/auth-context\"\nimport { DashboardLayout } from \"@/components/common/dashboard-layout\"\nimport { Loader } from \"lucide-react\"\n\nexport default function DashboardPage() {\n  const { user, isLoading } = useAuth()\n  const router = useRouter()\n\n  useEffect(() => {\n    if (!isLoading && !user) {\n      router.push(\"/auth?mode=login\")\n    }\n  }, [user, isLoading, router])\n\n  if (isLoading || !user) {\n    return (\n      <div className=\"flex h-screen w-full items-center justify-center bg-slate-950\">\n        <Loader className=\"w-8 h-8 animate-spin text-white\" />\n      </div>\n    )\n  }\n\n  return <DashboardLayout />\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAQe,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,IAAA,8KAAO;IACnC,MAAM,SAAS,IAAA,uLAAS;IAExB,IAAA,+MAAS;mCAAC;YACR,IAAI,CAAC,aAAa,CAAC,MAAM;gBACvB,OAAO,IAAI,CAAC;YACd;QACF;kCAAG;QAAC;QAAM;QAAW;KAAO;IAE5B,IAAI,aAAa,CAAC,MAAM;QACtB,qBACE,kOAAC;YAAI,WAAU;sBACb,cAAA,kOAAC,wPAAM;gBAAC,WAAU;;;;;;;;;;;IAGxB;IAEA,qBAAO,kOAAC,uMAAe;;;;;AACzB;GAnBwB;;QACM,8KAAO;QACpB,uLAAS;;;KAFF"}}]
}